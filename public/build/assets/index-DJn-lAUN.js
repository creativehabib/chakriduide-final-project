import{K as A,r as n,S as f,V as N,j as e,L as I,$ as S}from"./app-CggZoSD9.js";import{A as B}from"./app-layout-BXDtqNfa.js";import{T as L,a as P,b as c,c as l,d as k,e as r,I as z}from"./inertia-pagination-d4kYlKQd.js";import{g as E}from"./helpers-CJ0wjd5O.js";import{S as i,P as R}from"./permalink-DmInYXSj.js";import{S as F,D as H}from"./delete-dialog-ltCwC80A.js";import{d as V}from"./index-C6KIiHwt.js";import{I as _}from"./input-DtCZ9D9V.js";import{S as $}from"./square-pen-CQCZe4wj.js";import{T as q}from"./trash-2-CuedH2Go.js";import"./app-axUgbDtV.js";import"./button-BdQ36p9F.js";import"./index-DHmTQSwi.js";import"./index--gQutxnS.js";import"./index-ANhsPPIE.js";import"./x-DcDexyMi.js";import"./createLucideIcon-B6zP-KYj.js";import"./index-DorACeIN.js";import"./index-3KRDx6Ih.js";import"./index-B3tsJrMa.js";import"./chevron-right-IN2gfmOp.js";import"./app-logo-icon-D1BiloHR.js";import"./dialog-DyQmU9a6.js";const K=[{title:"Blogs",href:"/blogs"}];function he(){const{flash:t,blogs:o}=A().props,[w,d]=n.useState(!1),[m,x]=n.useState(null),[y,h]=n.useState(!1);console.log(o);const v=()=>{m!==null&&(f.delete(route("blog.posts.destroy",m),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{x(null)}}),d(!1))},D=s=>{x(s),d(!0)},C=n.useRef(V(s=>{const a={};s.trim()!==""&&(a.search=s),h(!0),f.get("/blog/posts",a,{preserveState:!0,replace:!0,onFinish:()=>h(!1)})},500)).current,T=s=>{const a=s.target.value;C(a)};return n.useEffect(()=>{t!=null&&t.success&&N.success(t.success),t!=null&&t.error&&N.error(t.error)},[t]),e.jsxs(e.Fragment,{children:[e.jsxs(B,{breadcrumbs:K,children:[e.jsx(I,{title:"Blogs"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Blog Management"}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"relative md:w-1/4",children:[e.jsx(_,{id:"search",className:"peer ps-9",placeholder:"Search...",type:"text",onChange:T}),e.jsx("div",{className:"text-muted-foreground/80 pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 peer-disabled:opacity-50",children:e.jsx(F,{size:16,"aria-hidden":"true"})})]}),e.jsx(S,{href:route("blog.posts.create"),className:"px-3 py-1.5 bg-blue-600 text-white rounded-md",children:"Add New Post"})]}),e.jsxs("div",{children:[e.jsxs(L,{className:"border",children:[e.jsx(P,{children:e.jsxs(c,{children:[e.jsx(l,{children:"#"}),e.jsx(l,{children:"Image"}),e.jsx(l,{children:"Name"}),e.jsx(l,{children:"Category"}),e.jsx(l,{children:"Author"}),e.jsx(l,{children:"Created At"}),e.jsx(l,{children:"Status"}),e.jsx(l,{children:"Actions"})]})}),e.jsx(k,{children:y?Array.from({length:5}).map((s,a)=>e.jsxs(c,{children:[e.jsx(r,{children:e.jsx(i,{className:"h-4 w-4"})}),e.jsx(r,{children:e.jsx(i,{className:"h-10 w-10 rounded"})}),e.jsx(r,{children:e.jsx(i,{className:"h-4 w-24"})}),e.jsx(r,{children:e.jsx(i,{className:"h-4 w-20"})}),e.jsx(r,{children:e.jsx(i,{className:"h-4 w-20"})}),e.jsx(r,{children:e.jsx(i,{className:"h-4 w-24"})}),e.jsx(r,{children:e.jsx(i,{className:"h-4 w-20"})}),e.jsx(r,{children:e.jsx(i,{className:"h-8 w-16"})})]},a)):o.data.length>0?o.data.map((s,a)=>{var j,u,p,g,b;return e.jsxs(c,{children:[e.jsx(r,{children:a+1}),e.jsx(r,{children:e.jsx("img",{src:E((j=s.media)==null?void 0:j.path,400,300,((u=s.media)==null?void 0:u.name)||"No Image"),alt:(p=s.media)==null?void 0:p.name,className:"h-10 w-10 rounded object-cover"})}),e.jsx(r,{width:150,children:e.jsx(R,{slug:s.slug,name:s.name})}),e.jsx(r,{children:s.category?(g=s.category)==null?void 0:g.name:"No Category"}),e.jsx(r,{children:(b=s.user)==null?void 0:b.name}),e.jsx(r,{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(r,{children:s.status}),e.jsxs(r,{className:"space-x-1",children:[e.jsx(S,{href:route("blog.posts.edit",s.id),className:"rounded bg-blue-500 cursor-pointer px-3 py-1 text-white hover:bg-blue-600 inline-flex items-center",children:e.jsx($,{size:16})}),e.jsx("button",{className:"bg-red-500 hover:bg-red-400 cursor-pointer rounded px-3 py-1 text-white",onClick:()=>D(s.id),children:e.jsx(q,{size:16})})]})]},s.id)}):e.jsx(c,{children:e.jsx(r,{colSpan:8,className:"text-center py-4",children:"No posts found."})})})]}),e.jsx("div",{className:"mb-2",children:e.jsx(z,{meta:o.meta})})]})]})]}),e.jsx(H,{open:w,onClose:()=>d(!1),onConfirm:v,title:"Confirm Deletion",description:"Are you sure you want to delete this blog post?"})]})}export{he as default};
