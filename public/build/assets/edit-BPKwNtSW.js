import{r as d,j as e,t as U,m as F,K as G,V as I,L as W,S as q}from"./app-BonGa7o_.js";import{A as V}from"./app-layout-B_nz9MTG.js";import{S as J}from"./layout-CKtHs4mf.js";import{C as y,a as N}from"./card-DLguofwQ.js";import{I as x}from"./input-Bx8p5WMQ.js";import{T as j}from"./textarea-BBHQQqcD.js";import{a as K,c as R,B as k}from"./button-CeQpY277.js";import"./index-BqPP9ZU2.js";import{S as P}from"./media-image-select-BAOIRO0U.js";import"./app-DlqnTGjg.js";import"./index-DhVUwTpo.js";import"./index-Cyr4dT8B.js";import"./x-Dx8WCfj3.js";import"./createLucideIcon-BjmVZKAO.js";import"./index-CD165OvS.js";import"./index-B0fd3HCO.js";import"./index-B_sWHI7M.js";import"./chevron-right-UWs0q-gb.js";import"./app-logo-icon-RvyW4fRr.js";import"./dialog-DZkQS6FD.js";import"./media-cropper-BxlM3s14.js";import"./delete-dialog-BON_TdG5.js";import"./helpers-CJ0wjd5O.js";import"./loader-circle-Cxkw0kcW.js";import"./square-pen-BzhCFcqh.js";function Q(t,n,{checkForDefaultPrevented:o=!0}={}){return function(r){if(t==null||t(r),o===!1||!r.defaultPrevented)return n==null?void 0:n(r)}}function E(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function H(...t){return n=>{let o=!1;const l=t.map(r=>{const a=E(r,n);return!o&&typeof a=="function"&&(o=!0),a});if(o)return()=>{for(let r=0;r<l.length;r++){const a=l[r];typeof a=="function"?a():E(t[r],null)}}}}function A(...t){return d.useCallback(H(...t),t)}function Y(t,n=[]){let o=[];function l(a,i){const c=d.createContext(i),u=o.length;o=[...o,i];const f=p=>{var v;const{scope:h,children:s,...g}=p,_=((v=h==null?void 0:h[t])==null?void 0:v[u])||c,S=d.useMemo(()=>g,Object.values(g));return e.jsx(_.Provider,{value:S,children:s})};f.displayName=a+"Provider";function m(p,h){var _;const s=((_=h==null?void 0:h[t])==null?void 0:_[u])||c,g=d.useContext(s);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[f,m]}const r=()=>{const a=o.map(i=>d.createContext(i));return function(c){const u=(c==null?void 0:c[t])||a;return d.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return r.scopeName=t,[l,Z(r,...n)]}function Z(...t){const n=t[0];if(t.length===1)return n;const o=()=>{const l=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const i=l.reduce((c,{useScope:u,scopeName:f})=>{const p=u(a)[`__scope${f}`];return{...c,...p}},{});return d.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return o.scopeName=n.scopeName,o}var X=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},ee=U[" useInsertionEffect ".trim().toString()]||X;function te({prop:t,defaultProp:n,onChange:o=()=>{},caller:l}){const[r,a,i]=se({defaultProp:n,onChange:o}),c=t!==void 0,u=c?t:r;{const m=d.useRef(t!==void 0);d.useEffect(()=>{const p=m.current;p!==c&&console.warn(`${l} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,l])}const f=d.useCallback(m=>{var p;if(c){const h=ne(m)?m(t):m;h!==t&&((p=i.current)==null||p.call(i,h))}else a(m)},[c,t,a,i]);return[u,f]}function se({defaultProp:t,onChange:n}){const[o,l]=d.useState(t),r=d.useRef(o),a=d.useRef(n);return ee(()=>{a.current=n},[n]),d.useEffect(()=>{var i;r.current!==o&&((i=a.current)==null||i.call(a,o),r.current=o)},[o,r]),[o,l,a]}function ne(t){return typeof t=="function"}function oe(t){const n=d.useRef({value:t,previous:t});return d.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}function ae(t){const[n,o]=d.useState(void 0);return X(()=>{if(t){o({width:t.offsetWidth,height:t.offsetHeight});const l=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let i,c;if("borderBoxSize"in a){const u=a.borderBoxSize,f=Array.isArray(u)?u[0]:u;i=f.inlineSize,c=f.blockSize}else i=t.offsetWidth,c=t.offsetHeight;o({width:i,height:c})});return l.observe(t,{box:"border-box"}),()=>l.unobserve(t)}else o(void 0)},[t]),n}var re=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],z=re.reduce((t,n)=>{const o=K(`Primitive.${n}`),l=d.forwardRef((r,a)=>{const{asChild:i,...c}=r,u=i?o:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:a})});return l.displayName=`Primitive.${n}`,{...t,[n]:l}},{}),C="Switch",[ie,$e]=Y(C),[ce,le]=ie(C),B=d.forwardRef((t,n)=>{const{__scopeSwitch:o,name:l,checked:r,defaultChecked:a,required:i,disabled:c,value:u="on",onCheckedChange:f,form:m,...p}=t,[h,s]=d.useState(null),g=A(n,w=>s(w)),_=d.useRef(!1),S=h?m||!!h.closest("form"):!0,[v,D]=te({prop:r,defaultProp:a??!1,onChange:f,caller:C});return e.jsxs(ce,{scope:o,checked:v,disabled:c,children:[e.jsx(z.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":$(v),"data-disabled":c?"":void 0,disabled:c,value:u,...p,ref:g,onClick:Q(t.onClick,w=>{D(O=>!O),S&&(_.current=w.isPropagationStopped(),_.current||w.stopPropagation())})}),S&&e.jsx(M,{control:h,bubbles:!_.current,name:l,value:u,checked:v,required:i,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});B.displayName=C;var L="SwitchThumb",T=d.forwardRef((t,n)=>{const{__scopeSwitch:o,...l}=t,r=le(L,o);return e.jsx(z.span,{"data-state":$(r.checked),"data-disabled":r.disabled?"":void 0,...l,ref:n})});T.displayName=L;var de="SwitchBubbleInput",M=d.forwardRef(({__scopeSwitch:t,control:n,checked:o,bubbles:l=!0,...r},a)=>{const i=d.useRef(null),c=A(i,a),u=oe(o),f=ae(n);return d.useEffect(()=>{const m=i.current;if(!m)return;const p=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==o&&s){const g=new Event("click",{bubbles:l});s.call(m,o),m.dispatchEvent(g)}},[u,o,l]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...r,tabIndex:-1,ref:c,style:{...r.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});M.displayName=de;function $(t){return t?"checked":"unchecked"}var ue=B,me=T;function b({className:t,...n}){return e.jsx(ue,{"data-slot":"switch",className:R("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:e.jsx(me,{"data-slot":"switch-thumb",className:R("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const he=[{title:"Settings",href:"/settings"}];function De({settings:t}){const{data:n,setData:o,post:l,processing:r}=F({site_name:t.site_name||"",site_email:t.site_email||"",site_description:t.site_description||"",site_logo:t.site_logo||"",favicon:t.favicon||"",cache_blog_enabled:String(t.cache_blog_enabled)==="1",cache_blog_duration:t.cache_blog_duration||10,meta_title:t.meta_title||"",site_keywords:t.site_keywords||"",og_image:t.og_image||"",google_analytics_id:t.google_analytics_id||"",google_adsense_id:t.google_adsense_id||"",adsense_auto_enabled:String(t.adsense_auto_enabled)==="1",meta_pixel_id:t.meta_pixel_id||"",header_script:t.header_script||"",footer_script:t.footer_script||"",cookie_consent_text:t.cookie_consent_text||"",allow_registration:String(t.allow_registration)==="1",allow_indexing:String(t.allow_indexing)==="1",sitemap_include_posts:String(t.sitemap_include_posts)==="1",sitemap_include_pages:String(t.sitemap_include_pages)==="1",sitemap_include_categories:String(t.sitemap_include_categories)==="1"}),{flash:a}=G().props,[i]=d.useState(),c=s=>{s.preventDefault(),l(route("admin.settings.update"))},u=()=>{l(route("admin.settings.clear"),{preserveScroll:!0})},f=s=>{(s==null?void 0:s.id)!==void 0&&o("og_image",(s==null?void 0:s.path)??null)},m=s=>{(s==null?void 0:s.id)!==void 0&&o("favicon",(s==null?void 0:s.path)??null)},p=s=>{(s==null?void 0:s.id)!==void 0&&o("site_logo",(s==null?void 0:s.path)??null)},h=()=>{q.post(route("admin.settings.generate-sitemap"),{},{preserveScroll:!0})};return d.useEffect(()=>{a!=null&&a.success&&I.success(a.success),a!=null&&a.error&&I.error(a.error)},[a]),e.jsxs(V,{breadcrumbs:he,children:[e.jsx(W,{title:"Settings"}),e.jsx(J,{children:e.jsxs("form",{onSubmit:c,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(y,{className:"w-full",children:e.jsxs(N,{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"General"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Site Name"}),e.jsx(x,{value:n.site_name,onChange:s=>o("site_name",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Site Email"}),e.jsx(x,{value:n.site_email,onChange:s=>o("site_email",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Site Description"}),e.jsx(j,{value:n.site_description,onChange:s=>o("site_description",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{onSelect:p,initial:i}),e.jsx("label",{className:"text-sm font-medium",children:"Site Logo (Image URL or Path)"}),e.jsx(x,{value:n.site_logo,onChange:s=>o("site_logo",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{onSelect:m,initial:i}),e.jsx("label",{className:"text-sm font-medium",children:"Favicon (Image URL or Path)"}),e.jsx(x,{value:n.favicon,onChange:s=>o("favicon",s.target.value)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Enable Blog Cache"}),e.jsx(b,{checked:n.cache_blog_enabled,onCheckedChange:s=>o("cache_blog_enabled",s)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Blog Cache Duration (minutes)"}),e.jsx(x,{type:"number",min:1,value:String(n.cache_blog_duration),onChange:s=>o("cache_blog_duration",Number(s.target.value))})]})]})}),e.jsx(y,{className:"w-full",children:e.jsxs(N,{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"SEO & Ads"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Meta Title"}),e.jsx(x,{value:n.meta_title,onChange:s=>o("meta_title",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Website keywords (Job, Quiz, news etc)"}),e.jsx(j,{value:n.site_keywords,onChange:s=>o("site_keywords",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{onSelect:f,initial:i}),e.jsx("label",{className:"text-sm font-medium",children:"OG Image (Image URL or Path)"}),e.jsx(x,{value:n.og_image,onChange:s=>o("og_image",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Google Analytics ID"}),e.jsx(x,{value:n.google_analytics_id,onChange:s=>o("google_analytics_id",s.target.value)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Enable AdSense Auto Ads"}),e.jsx(b,{checked:n.adsense_auto_enabled,onCheckedChange:s=>o("adsense_auto_enabled",s)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium",children:["AdSense Publisher ID (",e.jsx("small",{children:"ca-pub-XXXXXXXXXXXXXXX"}),")"]}),e.jsx(x,{value:n.google_adsense_id,onChange:s=>o("google_adsense_id",s.target.value)})]})]})}),e.jsx(y,{className:"md:col-span-2 w-full",children:e.jsxs(N,{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Advanced Settings"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Meta Pixel ID"}),e.jsx(x,{value:n.meta_pixel_id,onChange:s=>o("meta_pixel_id",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Header Script"}),e.jsx(j,{value:n.header_script,onChange:s=>o("header_script",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Footer Script"}),e.jsx(j,{value:n.footer_script,onChange:s=>o("footer_script",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Cookie Consent Text"}),e.jsx(j,{value:n.cookie_consent_text,onChange:s=>o("cookie_consent_text",s.target.value),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Allow Registration"}),e.jsx(b,{checked:n.allow_registration,onCheckedChange:s=>o("allow_registration",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Allow Indexing"}),e.jsx(b,{checked:n.allow_indexing,onCheckedChange:s=>o("allow_indexing",s)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Sitemap Settings"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Include Posts"}),e.jsx(b,{checked:n.sitemap_include_posts,onCheckedChange:s=>o("sitemap_include_posts",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Include Pages"}),e.jsx(b,{checked:n.sitemap_include_pages,onCheckedChange:s=>o("sitemap_include_pages",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Include Categories"}),e.jsx(b,{checked:n.sitemap_include_categories,onCheckedChange:s=>o("sitemap_include_categories",s)})]})]})]})}),e.jsxs("div",{className:"md:col-span-2 flex justify-end gap-4 mt-4",children:[e.jsx(k,{type:"button",onClick:h,children:"Generate Sitemap"}),e.jsx(k,{type:"button",variant:"destructive",onClick:u,children:"Clear Cache"}),e.jsx(k,{type:"submit",disabled:r,children:"Save Settings"})]})]})})]})}export{De as default};
