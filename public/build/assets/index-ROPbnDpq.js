import{K as A,r as i,S as f,V as N,j as e,L as I,$ as S}from"./app-Bzlzini-.js";import{A as B}from"./app-layout-c3gpnuXg.js";import{T as L,a as P,b as c,c as l,d as k,e as r,f as z,I as E}from"./inertia-pagination-0ACJnXYp.js";import{g as R}from"./helpers-gu3OCxCZ.js";import{S as n,P as F}from"./permalink-D9q9DN3g.js";import{S as H,a as V,D as _}from"./delete-dialog-ChuvNbsk.js";import{d as $}from"./index-stG1USZn.js";import{I as q}from"./input-CrASGo7X.js";import"./app-B4-Nm1Wo.js";import"./button-DfI1dMUQ.js";import"./index-63krbB4x.js";import"./index-CK8c82z3.js";import"./x-B3Rb929e.js";import"./createLucideIcon-BHqtA1D5.js";import"./index-D-4z-9E_.js";import"./chevron-right-CPDl4u3M.js";import"./app-logo-icon-BCOBT2tl.js";import"./dialog-B2AfsvbH.js";const K=[{title:"Blogs",href:"/blogs"}];function oe(){const{flash:a,blogs:o}=A().props,[w,d]=i.useState(!1),[m,x]=i.useState(null),[y,h]=i.useState(!1);console.log(o);const v=()=>{m!==null&&(f.delete(route("blog.posts.destroy",m),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{x(null)}}),d(!1))},D=s=>{x(s),d(!0)},C=i.useRef($(s=>{const t={};s.trim()!==""&&(t.search=s),h(!0),f.get("/blog/posts",t,{preserveState:!0,replace:!0,onFinish:()=>h(!1)})},500)).current,T=s=>{const t=s.target.value;C(t)};return i.useEffect(()=>{a!=null&&a.success&&N.success(a.success),a!=null&&a.error&&N.error(a.error)},[a]),e.jsxs(e.Fragment,{children:[e.jsxs(B,{breadcrumbs:K,children:[e.jsx(I,{title:"Blogs"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Blog Management"}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"relative md:w-1/4",children:[e.jsx(q,{id:"search",className:"peer ps-9",placeholder:"Search...",type:"text",onChange:T}),e.jsx("div",{className:"text-muted-foreground/80 pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 peer-disabled:opacity-50",children:e.jsx(H,{size:16,"aria-hidden":"true"})})]}),e.jsx(S,{href:route("blog.posts.create"),className:"px-3 py-1.5 bg-blue-600 text-white rounded-md",children:"Add New Post"})]}),e.jsxs("div",{children:[e.jsxs(L,{className:"border",children:[e.jsx(P,{children:e.jsxs(c,{children:[e.jsx(l,{children:"#"}),e.jsx(l,{children:"Image"}),e.jsx(l,{children:"Name"}),e.jsx(l,{children:"Category"}),e.jsx(l,{children:"Author"}),e.jsx(l,{children:"Created At"}),e.jsx(l,{children:"Status"}),e.jsx(l,{children:"Actions"})]})}),e.jsx(k,{children:y?Array.from({length:5}).map((s,t)=>e.jsxs(c,{children:[e.jsx(r,{children:e.jsx(n,{className:"h-4 w-4"})}),e.jsx(r,{children:e.jsx(n,{className:"h-10 w-10 rounded"})}),e.jsx(r,{children:e.jsx(n,{className:"h-4 w-24"})}),e.jsx(r,{children:e.jsx(n,{className:"h-4 w-20"})}),e.jsx(r,{children:e.jsx(n,{className:"h-4 w-20"})}),e.jsx(r,{children:e.jsx(n,{className:"h-4 w-24"})}),e.jsx(r,{children:e.jsx(n,{className:"h-4 w-20"})}),e.jsx(r,{children:e.jsx(n,{className:"h-8 w-16"})})]},t)):o.data.length>0?o.data.map((s,t)=>{var j,u,p,g,b;return e.jsxs(c,{children:[e.jsx(r,{children:t+1}),e.jsx(r,{children:e.jsx("img",{src:R((j=s.media)==null?void 0:j.path,400,300,((u=s.media)==null?void 0:u.name)||"No Image"),alt:(p=s.media)==null?void 0:p.name,className:"h-10 w-10 rounded object-cover"})}),e.jsx(r,{width:150,children:e.jsx(F,{slug:s.slug,name:s.name})}),e.jsx(r,{children:s.category?(g=s.category)==null?void 0:g.name:"No Category"}),e.jsx(r,{children:(b=s.user)==null?void 0:b.name}),e.jsx(r,{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(r,{children:s.status}),e.jsxs(r,{className:"space-x-1",children:[e.jsx(S,{href:route("blog.posts.edit",s.id),className:"rounded bg-blue-500 cursor-pointer px-3 py-1 text-white hover:bg-blue-600 inline-flex items-center",children:e.jsx(V,{size:16})}),e.jsx("button",{className:"bg-red-500 hover:bg-red-400 cursor-pointer rounded px-3 py-1 text-white",onClick:()=>D(s.id),children:e.jsx(z,{size:16})})]})]},s.id)}):e.jsx(c,{children:e.jsx(r,{colSpan:8,className:"text-center py-4",children:"No posts found."})})})]}),e.jsx("div",{className:"mb-2",children:e.jsx(E,{meta:o.meta})})]})]})]}),e.jsx(_,{open:w,onClose:()=>d(!1),onConfirm:v,title:"Confirm Deletion",description:"Are you sure you want to delete this blog post?"})]})}export{oe as default};
