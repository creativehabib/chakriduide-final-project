import{r,j as n,m as at}from"./app-BkiZYT91.js";import{c as ee,B as lt}from"./button-Bd89b2_4.js";import{I as it}from"./input-Wt25Ld_f.js";import{T as Ne}from"./textarea-BJOSiBIi.js";import{L as ie}from"./label-DoBdU-Cm.js";import{c as ct,u as L,P as E,r as Re}from"./index-DxVSCq1O.js";import{a as Pe,c as dt,b as N,u as $,e as pt}from"./index-D4MXM5nt.js";import{c as Ee,u as ut,R as ft,a as Ie,b as mt,A as ht,P as gt,V as xt,d as vt,F as St,D as wt,C as yt,e as Ct}from"./index-J15o3IyY.js";import{u as bt}from"./index-dVUMBCUo.js";import{h as _t,R as It}from"./index-DxW-Shu7.js";import{C as Oe}from"./chevron-down-ByF8i6wm.js";import{C as Tt}from"./check-CXQglCW3.js";import{c as Nt}from"./createLucideIcon-C77XZfKS.js";import"./app-Au9cr3PI.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jt=Nt("ChevronUp",Pt);function je(t,[o,e]){return Math.min(e,Math.max(o,t))}var Me=r.forwardRef((t,o)=>{const{children:e,...a}=t,s=r.Children.toArray(e),d=s.find(Et);if(d){const l=d.props.children,c=s.map(i=>i===d?r.Children.count(l)>1?r.Children.only(null):r.isValidElement(l)?l.props.children:null:i);return n.jsx(Se,{...a,ref:o,children:r.isValidElement(l)?r.cloneElement(l,void 0,c):null})}return n.jsx(Se,{...a,ref:o,children:e})});Me.displayName="Slot";var Se=r.forwardRef((t,o)=>{const{children:e,...a}=t;if(r.isValidElement(e)){const s=Mt(e),d=Ot(a,e.props);return e.type!==r.Fragment&&(d.ref=o?ct(o,s):s),r.cloneElement(e,d)}return r.Children.count(e)>1?r.Children.only(null):null});Se.displayName="SlotClone";var Rt=({children:t})=>n.jsx(n.Fragment,{children:t});function Et(t){return r.isValidElement(t)&&t.type===Rt}function Ot(t,o){const e={...o};for(const a in o){const s=t[a],d=o[a];/^on[A-Z]/.test(a)?s&&d?e[a]=(...c)=>{d(...c),s(...c)}:s&&(e[a]=s):a==="style"?e[a]={...s,...d}:a==="className"&&(e[a]=[s,d].filter(Boolean).join(" "))}return{...t,...e}}function Mt(t){var a,s;let o=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,e=o&&"isReactWarning"in o&&o.isReactWarning;return e?t.ref:(o=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,e=o&&"isReactWarning"in o&&o.isReactWarning,e?t.props.ref:t.props.ref||t.ref)}var At=[" ","Enter","ArrowUp","ArrowDown"],Dt=[" ","Enter"],se="Select",[de,pe,kt]=mt(se),[te,Do]=dt(se,[kt,Ee]),ue=Ee(),[Lt,G]=te(se),[Vt,Bt]=te(se),Ae=t=>{const{__scopeSelect:o,children:e,open:a,defaultOpen:s,onOpenChange:d,value:l,defaultValue:c,onValueChange:i,dir:u,name:v,autoComplete:S,disabled:T,required:I,form:m}=t,p=ue(o),[g,w]=r.useState(null),[f,x]=r.useState(null),[O,M]=r.useState(!1),oe=ut(u),[P=!1,D]=Pe({prop:a,defaultProp:s,onChange:d}),[U,Q]=Pe({prop:l,defaultProp:c,onChange:i}),V=r.useRef(null),B=g?m||!!g.closest("form"):!0,[z,H]=r.useState(new Set),W=Array.from(z).map(j=>j.props.value).join(";");return n.jsx(ft,{...p,children:n.jsxs(Lt,{required:I,scope:o,trigger:g,onTriggerChange:w,valueNode:f,onValueNodeChange:x,valueNodeHasChildren:O,onValueNodeHasChildrenChange:M,contentId:Ie(),value:U,onValueChange:Q,open:P,onOpenChange:D,dir:oe,triggerPointerDownPosRef:V,disabled:T,children:[n.jsx(de.Provider,{scope:o,children:n.jsx(Vt,{scope:t.__scopeSelect,onNativeOptionAdd:r.useCallback(j=>{H(k=>new Set(k).add(j))},[]),onNativeOptionRemove:r.useCallback(j=>{H(k=>{const F=new Set(k);return F.delete(j),F})},[]),children:e})}),B?n.jsxs(nt,{"aria-hidden":!0,required:I,tabIndex:-1,name:v,autoComplete:S,value:U,onChange:j=>Q(j.target.value),disabled:T,form:m,children:[U===void 0?n.jsx("option",{value:""}):null,Array.from(z)]},W):null]})})};Ae.displayName=se;var De="SelectTrigger",ke=r.forwardRef((t,o)=>{const{__scopeSelect:e,disabled:a=!1,...s}=t,d=ue(e),l=G(De,e),c=l.disabled||a,i=L(o,l.onTriggerChange),u=pe(e),v=r.useRef("touch"),[S,T,I]=rt(p=>{const g=u().filter(x=>!x.disabled),w=g.find(x=>x.value===l.value),f=st(g,p,w);f!==void 0&&l.onValueChange(f.value)}),m=p=>{c||(l.onOpenChange(!0),I()),p&&(l.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return n.jsx(ht,{asChild:!0,...d,children:n.jsx(E.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ot(l.value)?"":void 0,...s,ref:i,onClick:N(s.onClick,p=>{p.currentTarget.focus(),v.current!=="mouse"&&m(p)}),onPointerDown:N(s.onPointerDown,p=>{v.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(m(p),p.preventDefault())}),onKeyDown:N(s.onKeyDown,p=>{const g=S.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&T(p.key),!(g&&p.key===" ")&&At.includes(p.key)&&(m(),p.preventDefault())})})})});ke.displayName=De;var Le="SelectValue",Ve=r.forwardRef((t,o)=>{const{__scopeSelect:e,className:a,style:s,children:d,placeholder:l="",...c}=t,i=G(Le,e),{onValueNodeHasChildrenChange:u}=i,v=d!==void 0,S=L(o,i.onValueNodeChange);return $(()=>{u(v)},[u,v]),n.jsx(E.span,{...c,ref:S,style:{pointerEvents:"none"},children:ot(i.value)?n.jsx(n.Fragment,{children:l}):d})});Ve.displayName=Le;var Ht="SelectIcon",Be=r.forwardRef((t,o)=>{const{__scopeSelect:e,children:a,...s}=t;return n.jsx(E.span,{"aria-hidden":!0,...s,ref:o,children:a||"â–¼"})});Be.displayName=Ht;var Wt="SelectPortal",He=t=>n.jsx(gt,{asChild:!0,...t});He.displayName=Wt;var J="SelectContent",We=r.forwardRef((t,o)=>{const e=G(J,t.__scopeSelect),[a,s]=r.useState();if($(()=>{s(new DocumentFragment)},[]),!e.open){const d=a;return d?Re.createPortal(n.jsx(Fe,{scope:t.__scopeSelect,children:n.jsx(de.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),d):null}return n.jsx(Ue,{...t,ref:o})});We.displayName=J;var A=10,[Fe,Y]=te(J),Ft="SelectContentImpl",Ue=r.forwardRef((t,o)=>{const{__scopeSelect:e,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:d,onPointerDownOutside:l,side:c,sideOffset:i,align:u,alignOffset:v,arrowPadding:S,collisionBoundary:T,collisionPadding:I,sticky:m,hideWhenDetached:p,avoidCollisions:g,...w}=t,f=G(J,e),[x,O]=r.useState(null),[M,oe]=r.useState(null),P=L(o,h=>O(h)),[D,U]=r.useState(null),[Q,V]=r.useState(null),B=pe(e),[z,H]=r.useState(!1),W=r.useRef(!1);r.useEffect(()=>{if(x)return _t(x)},[x]),vt();const j=r.useCallback(h=>{const[_,...R]=B().map(C=>C.ref.current),[b]=R.slice(-1),y=document.activeElement;for(const C of h)if(C===y||(C==null||C.scrollIntoView({block:"nearest"}),C===_&&M&&(M.scrollTop=0),C===b&&M&&(M.scrollTop=M.scrollHeight),C==null||C.focus(),document.activeElement!==y))return},[B,M]),k=r.useCallback(()=>j([D,x]),[j,D,x]);r.useEffect(()=>{z&&k()},[z,k]);const{onOpenChange:F,triggerPointerDownPosRef:K}=f;r.useEffect(()=>{if(x){let h={x:0,y:0};const _=b=>{var y,C;h={x:Math.abs(Math.round(b.pageX)-(((y=K.current)==null?void 0:y.x)??0)),y:Math.abs(Math.round(b.pageY)-(((C=K.current)==null?void 0:C.y)??0))}},R=b=>{h.x<=10&&h.y<=10?b.preventDefault():x.contains(b.target)||F(!1),document.removeEventListener("pointermove",_),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",_),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",R,{capture:!0})}}},[x,F,K]),r.useEffect(()=>{const h=()=>F(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[F]);const[fe,ae]=rt(h=>{const _=B().filter(y=>!y.disabled),R=_.find(y=>y.ref.current===document.activeElement),b=st(_,h,R);b&&setTimeout(()=>b.ref.current.focus())}),me=r.useCallback((h,_,R)=>{const b=!W.current&&!R;(f.value!==void 0&&f.value===_||b)&&(U(h),b&&(W.current=!0))},[f.value]),he=r.useCallback(()=>x==null?void 0:x.focus(),[x]),q=r.useCallback((h,_,R)=>{const b=!W.current&&!R;(f.value!==void 0&&f.value===_||b)&&V(h)},[f.value]),le=a==="popper"?we:ze,ne=le===we?{side:c,sideOffset:i,align:u,alignOffset:v,arrowPadding:S,collisionBoundary:T,collisionPadding:I,sticky:m,hideWhenDetached:p,avoidCollisions:g}:{};return n.jsx(Fe,{scope:e,content:x,viewport:M,onViewportChange:oe,itemRefCallback:me,selectedItem:D,onItemLeave:he,itemTextRefCallback:q,focusSelectedItem:k,selectedItemText:Q,position:a,isPositioned:z,searchRef:fe,children:n.jsx(It,{as:Me,allowPinchZoom:!0,children:n.jsx(St,{asChild:!0,trapped:f.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:N(s,h=>{var _;(_=f.trigger)==null||_.focus({preventScroll:!0}),h.preventDefault()}),children:n.jsx(wt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:l,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:n.jsx(le,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:h=>h.preventDefault(),...w,...ne,onPlaced:()=>H(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:N(w.onKeyDown,h=>{const _=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!_&&h.key.length===1&&ae(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let b=B().filter(y=>!y.disabled).map(y=>y.ref.current);if(["ArrowUp","End"].includes(h.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const y=h.target,C=b.indexOf(y);b=b.slice(C+1)}setTimeout(()=>j(b)),h.preventDefault()}})})})})})})});Ue.displayName=Ft;var Ut="SelectItemAlignedPosition",ze=r.forwardRef((t,o)=>{const{__scopeSelect:e,onPlaced:a,...s}=t,d=G(J,e),l=Y(J,e),[c,i]=r.useState(null),[u,v]=r.useState(null),S=L(o,P=>v(P)),T=pe(e),I=r.useRef(!1),m=r.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:w,focusSelectedItem:f}=l,x=r.useCallback(()=>{if(d.trigger&&d.valueNode&&c&&u&&p&&g&&w){const P=d.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),U=d.valueNode.getBoundingClientRect(),Q=w.getBoundingClientRect();if(d.dir!=="rtl"){const y=Q.left-D.left,C=U.left-y,Z=P.left-C,X=P.width+Z,ge=Math.max(X,D.width),xe=window.innerWidth-A,ve=je(C,[A,Math.max(A,xe-ge)]);c.style.minWidth=X+"px",c.style.left=ve+"px"}else{const y=D.right-Q.right,C=window.innerWidth-U.right-y,Z=window.innerWidth-P.right-C,X=P.width+Z,ge=Math.max(X,D.width),xe=window.innerWidth-A,ve=je(C,[A,Math.max(A,xe-ge)]);c.style.minWidth=X+"px",c.style.right=ve+"px"}const V=T(),B=window.innerHeight-A*2,z=p.scrollHeight,H=window.getComputedStyle(u),W=parseInt(H.borderTopWidth,10),j=parseInt(H.paddingTop,10),k=parseInt(H.borderBottomWidth,10),F=parseInt(H.paddingBottom,10),K=W+j+z+F+k,fe=Math.min(g.offsetHeight*5,K),ae=window.getComputedStyle(p),me=parseInt(ae.paddingTop,10),he=parseInt(ae.paddingBottom,10),q=P.top+P.height/2-A,le=B-q,ne=g.offsetHeight/2,h=g.offsetTop+ne,_=W+j+h,R=K-_;if(_<=q){const y=V.length>0&&g===V[V.length-1].ref.current;c.style.bottom="0px";const C=u.clientHeight-p.offsetTop-p.offsetHeight,Z=Math.max(le,ne+(y?he:0)+C+k),X=_+Z;c.style.height=X+"px"}else{const y=V.length>0&&g===V[0].ref.current;c.style.top="0px";const Z=Math.max(q,W+p.offsetTop+(y?me:0)+ne)+R;c.style.height=Z+"px",p.scrollTop=_-q+p.offsetTop}c.style.margin=`${A}px 0`,c.style.minHeight=fe+"px",c.style.maxHeight=B+"px",a==null||a(),requestAnimationFrame(()=>I.current=!0)}},[T,d.trigger,d.valueNode,c,u,p,g,w,d.dir,a]);$(()=>x(),[x]);const[O,M]=r.useState();$(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const oe=r.useCallback(P=>{P&&m.current===!0&&(x(),f==null||f(),m.current=!1)},[x,f]);return n.jsx(Kt,{scope:e,contentWrapper:c,shouldExpandOnScrollRef:I,onScrollButtonChange:oe,children:n.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:n.jsx(E.div,{...s,ref:S,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ze.displayName=Ut;var zt="SelectPopperPosition",we=r.forwardRef((t,o)=>{const{__scopeSelect:e,align:a="start",collisionPadding:s=A,...d}=t,l=ue(e);return n.jsx(yt,{...l,...d,ref:o,align:a,collisionPadding:s,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});we.displayName=zt;var[Kt,Te]=te(J,{}),ye="SelectViewport",Ke=r.forwardRef((t,o)=>{const{__scopeSelect:e,nonce:a,...s}=t,d=Y(ye,e),l=Te(ye,e),c=L(o,d.onViewportChange),i=r.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(de.Slot,{scope:e,children:n.jsx(E.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:N(s.onScroll,u=>{const v=u.currentTarget,{contentWrapper:S,shouldExpandOnScrollRef:T}=l;if(T!=null&&T.current&&S){const I=Math.abs(i.current-v.scrollTop);if(I>0){const m=window.innerHeight-A*2,p=parseFloat(S.style.minHeight),g=parseFloat(S.style.height),w=Math.max(p,g);if(w<m){const f=w+I,x=Math.min(m,f),O=f-x;S.style.height=x+"px",S.style.bottom==="0px"&&(v.scrollTop=O>0?O:0,S.style.justifyContent="flex-end")}}}i.current=v.scrollTop})})})]})});Ke.displayName=ye;var $e="SelectGroup",[$t,Gt]=te($e),Yt=r.forwardRef((t,o)=>{const{__scopeSelect:e,...a}=t,s=Ie();return n.jsx($t,{scope:e,id:s,children:n.jsx(E.div,{role:"group","aria-labelledby":s,...a,ref:o})})});Yt.displayName=$e;var Ge="SelectLabel",Qt=r.forwardRef((t,o)=>{const{__scopeSelect:e,...a}=t,s=Gt(Ge,e);return n.jsx(E.div,{id:s.id,...a,ref:o})});Qt.displayName=Ge;var ce="SelectItem",[Zt,Ye]=te(ce),Qe=r.forwardRef((t,o)=>{const{__scopeSelect:e,value:a,disabled:s=!1,textValue:d,...l}=t,c=G(ce,e),i=Y(ce,e),u=c.value===a,[v,S]=r.useState(d??""),[T,I]=r.useState(!1),m=L(o,f=>{var x;return(x=i.itemRefCallback)==null?void 0:x.call(i,f,a,s)}),p=Ie(),g=r.useRef("touch"),w=()=>{s||(c.onValueChange(a),c.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(Zt,{scope:e,value:a,disabled:s,textId:p,isSelected:u,onItemTextChange:r.useCallback(f=>{S(x=>x||((f==null?void 0:f.textContent)??"").trim())},[]),children:n.jsx(de.ItemSlot,{scope:e,value:a,disabled:s,textValue:v,children:n.jsx(E.div,{role:"option","aria-labelledby":p,"data-highlighted":T?"":void 0,"aria-selected":u&&T,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:m,onFocus:N(l.onFocus,()=>I(!0)),onBlur:N(l.onBlur,()=>I(!1)),onClick:N(l.onClick,()=>{g.current!=="mouse"&&w()}),onPointerUp:N(l.onPointerUp,()=>{g.current==="mouse"&&w()}),onPointerDown:N(l.onPointerDown,f=>{g.current=f.pointerType}),onPointerMove:N(l.onPointerMove,f=>{var x;g.current=f.pointerType,s?(x=i.onItemLeave)==null||x.call(i):g.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:N(l.onPointerLeave,f=>{var x;f.currentTarget===document.activeElement&&((x=i.onItemLeave)==null||x.call(i))}),onKeyDown:N(l.onKeyDown,f=>{var O;((O=i.searchRef)==null?void 0:O.current)!==""&&f.key===" "||(Dt.includes(f.key)&&w(),f.key===" "&&f.preventDefault())})})})})});Qe.displayName=ce;var re="SelectItemText",Ze=r.forwardRef((t,o)=>{const{__scopeSelect:e,className:a,style:s,...d}=t,l=G(re,e),c=Y(re,e),i=Ye(re,e),u=Bt(re,e),[v,S]=r.useState(null),T=L(o,w=>S(w),i.onItemTextChange,w=>{var f;return(f=c.itemTextRefCallback)==null?void 0:f.call(c,w,i.value,i.disabled)}),I=v==null?void 0:v.textContent,m=r.useMemo(()=>n.jsx("option",{value:i.value,disabled:i.disabled,children:I},i.value),[i.disabled,i.value,I]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return $(()=>(p(m),()=>g(m)),[p,g,m]),n.jsxs(n.Fragment,{children:[n.jsx(E.span,{id:i.textId,...d,ref:T}),i.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Re.createPortal(d.children,l.valueNode):null]})});Ze.displayName=re;var Xe="SelectItemIndicator",Je=r.forwardRef((t,o)=>{const{__scopeSelect:e,...a}=t;return Ye(Xe,e).isSelected?n.jsx(E.span,{"aria-hidden":!0,...a,ref:o}):null});Je.displayName=Xe;var Ce="SelectScrollUpButton",qe=r.forwardRef((t,o)=>{const e=Y(Ce,t.__scopeSelect),a=Te(Ce,t.__scopeSelect),[s,d]=r.useState(!1),l=L(o,a.onScrollButtonChange);return $(()=>{if(e.viewport&&e.isPositioned){let c=function(){const u=i.scrollTop>0;d(u)};const i=e.viewport;return c(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?n.jsx(tt,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:i}=e;c&&i&&(c.scrollTop=c.scrollTop-i.offsetHeight)}}):null});qe.displayName=Ce;var be="SelectScrollDownButton",et=r.forwardRef((t,o)=>{const e=Y(be,t.__scopeSelect),a=Te(be,t.__scopeSelect),[s,d]=r.useState(!1),l=L(o,a.onScrollButtonChange);return $(()=>{if(e.viewport&&e.isPositioned){let c=function(){const u=i.scrollHeight-i.clientHeight,v=Math.ceil(i.scrollTop)<u;d(v)};const i=e.viewport;return c(),i.addEventListener("scroll",c),()=>i.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?n.jsx(tt,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:i}=e;c&&i&&(c.scrollTop=c.scrollTop+i.offsetHeight)}}):null});et.displayName=be;var tt=r.forwardRef((t,o)=>{const{__scopeSelect:e,onAutoScroll:a,...s}=t,d=Y("SelectScrollButton",e),l=r.useRef(null),c=pe(e),i=r.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return r.useEffect(()=>()=>i(),[i]),$(()=>{var v;const u=c().find(S=>S.ref.current===document.activeElement);(v=u==null?void 0:u.ref.current)==null||v.scrollIntoView({block:"nearest"})},[c]),n.jsx(E.div,{"aria-hidden":!0,...s,ref:o,style:{flexShrink:0,...s.style},onPointerDown:N(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(a,50))}),onPointerMove:N(s.onPointerMove,()=>{var u;(u=d.onItemLeave)==null||u.call(d),l.current===null&&(l.current=window.setInterval(a,50))}),onPointerLeave:N(s.onPointerLeave,()=>{i()})})}),Xt="SelectSeparator",Jt=r.forwardRef((t,o)=>{const{__scopeSelect:e,...a}=t;return n.jsx(E.div,{"aria-hidden":!0,...a,ref:o})});Jt.displayName=Xt;var _e="SelectArrow",qt=r.forwardRef((t,o)=>{const{__scopeSelect:e,...a}=t,s=ue(e),d=G(_e,e),l=Y(_e,e);return d.open&&l.position==="popper"?n.jsx(Ct,{...s,...a,ref:o}):null});qt.displayName=_e;function ot(t){return t===""||t===void 0}var nt=r.forwardRef((t,o)=>{const{value:e,...a}=t,s=r.useRef(null),d=L(o,s),l=bt(e);return r.useEffect(()=>{const c=s.current,i=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(i,"value").set;if(l!==e&&v){const S=new Event("change",{bubbles:!0});v.call(c,e),c.dispatchEvent(S)}},[l,e]),n.jsx(xt,{asChild:!0,children:n.jsx("select",{...a,ref:d,defaultValue:e})})});nt.displayName="BubbleSelect";function rt(t){const o=pt(t),e=r.useRef(""),a=r.useRef(0),s=r.useCallback(l=>{const c=e.current+l;o(c),function i(u){e.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>i(""),1e3))}(c)},[o]),d=r.useCallback(()=>{e.current="",window.clearTimeout(a.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(a.current),[]),[e,s,d]}function st(t,o,e){const s=o.length>1&&Array.from(o).every(u=>u===o[0])?o[0]:o,d=e?t.indexOf(e):-1;let l=eo(t,Math.max(d,0));s.length===1&&(l=l.filter(u=>u!==e));const i=l.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return i!==e?i:void 0}function eo(t,o){return t.map((e,a)=>t[(o+a)%t.length])}var to=Ae,oo=ke,no=Ve,ro=Be,so=He,ao=We,lo=Ke,io=Qe,co=Ze,po=Je,uo=qe,fo=et;function mo({...t}){return n.jsx(to,{"data-slot":"select",...t})}function ho({...t}){return n.jsx(no,{"data-slot":"select-value",...t})}function go({className:t,children:o,...e}){return n.jsxs(oo,{"data-slot":"select-trigger",className:ee("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",t),...e,children:[o,n.jsx(ro,{asChild:!0,children:n.jsx(Oe,{className:"size-4 opacity-50"})})]})}function xo({className:t,children:o,position:e="popper",...a}){return n.jsx(so,{children:n.jsxs(ao,{"data-slot":"select-content",className:ee("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:e,...a,children:[n.jsx(So,{}),n.jsx(lo,{className:ee("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:o}),n.jsx(wo,{})]})})}function vo({className:t,children:o,...e}){return n.jsxs(io,{"data-slot":"select-item",className:ee("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...e,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(po,{children:n.jsx(Tt,{className:"size-4"})})}),n.jsx(co,{children:o})]})}function So({className:t,...o}){return n.jsx(uo,{"data-slot":"select-scroll-up-button",className:ee("flex cursor-default items-center justify-center py-1",t),...o,children:n.jsx(jt,{className:"size-4"})})}function wo({className:t,...o}){return n.jsx(fo,{"data-slot":"select-scroll-down-button",className:ee("flex cursor-default items-center justify-center py-1",t),...o,children:n.jsx(Oe,{className:"size-4"})})}function ko({categories:t,question:o}){var I;const e=((I=o==null?void 0:o.options)==null?void 0:I.map(m=>({...m,is_correct:m.is_correct===1||m.is_correct==="1"||m.is_correct===!0})))||[{option_text:"",is_correct:!1},{option_text:"",is_correct:!1},{option_text:"",is_correct:!1},{option_text:"",is_correct:!1}],a=e.findIndex(m=>m.is_correct),{data:s,setData:d,post:l,put:c,processing:i,errors:u}=at({category_id:o!=null&&o.category_id?String(o.category_id):"",question_text:(o==null?void 0:o.question_text)||"",description:(o==null?void 0:o.description)||"",options:e,correct_option_index:a!==-1?a:null}),v=m=>{m.preventDefault(),o?c(route("admin.questions.update",o.id)):l(route("admin.questions.store"))},S=(m,p)=>{const g=[...s.options];g[m].option_text=p,d("options",g)},T=m=>{const p=s.options.map((g,w)=>({...g,is_correct:w===m}));d("options",p),d("correct_option_index",m)};return n.jsxs("form",{onSubmit:v,className:"max-w-3xl bg-white dark:bg-gray-900 rounded-xl shadow-lg p-6 space-y-6 border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ie,{children:"Category"}),n.jsxs(mo,{value:s.category_id,onValueChange:m=>d("category_id",m),children:[n.jsx(go,{children:n.jsx(ho,{placeholder:"Select a Category"})}),n.jsx(xo,{children:t.map(m=>n.jsx(vo,{value:String(m.id),children:m.name},m.id))})]}),u.category_id&&n.jsx("div",{className:"text-red-500 text-xs",children:u.category_id})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ie,{children:"Question Text"}),n.jsx(Ne,{value:s.question_text,onChange:m=>d("question_text",m.target.value),placeholder:"Enter the question here..."}),u.question_text&&n.jsx("div",{className:"text-red-500 text-xs",children:u.question_text})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ie,{children:"Description (Optional)"}),n.jsx(Ne,{value:s.description,onChange:m=>d("description",m.target.value),placeholder:"Write explanation or notes..."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ie,{children:"Options"}),s.options.map((m,p)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition",children:[n.jsx("input",{type:"radio",name:"correct_option",checked:s.correct_option_index===p,onChange:()=>T(p),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),n.jsx(it,{type:"text",value:m.option_text,onChange:g=>S(p,g.target.value),placeholder:`Option ${p+1}`}),u[`options.${p}.option_text`]&&n.jsx("div",{className:"text-red-500 text-xs ml-2",children:u[`options.${p}.option_text`]})]},p)),u.correct_option_index&&n.jsx("div",{className:"text-red-500 text-xs",children:"Please select the correct option."})]}),n.jsx(lt,{type:"submit",disabled:i,className:"w-full",children:o?"Update Question":"Create Question"})]})}export{ko as default};
