import{r as o,K as T,S as b,V as f,j as e,L as A,$ as N}from"./app-B7GEvVV0.js";import{A as I}from"./app-layout-CDtoiV24.js";import{I as L}from"./input-B82k2xo2.js";import{d as k}from"./index-C-hmeTOm.js";import{T as P,a as z,b as c,c as i,d as E,e as r,I as R}from"./inertia-pagination-CriirJvg.js";import{S as l,P as B}from"./permalink-BBIw7cK6.js";import{g as F}from"./helpers-CJ0wjd5O.js";import{S as H,D as V}from"./delete-dialog-DZsS88lN.js";import{S as _}from"./square-pen-BDEJMtE0.js";import{T as $}from"./trash-2-BLi0ikAP.js";import"./app-axUgbDtV.js";import"./button-BMxgeRI8.js";import"./index-DWuCoGrm.js";import"./index-n0Jtoqmh.js";import"./index-OHZQ9JAF.js";import"./x-CHdRUND4.js";import"./createLucideIcon-BKBcIj7J.js";import"./index-BfRiyRe2.js";import"./index-6asK7W1y.js";import"./index-CzLHKfRG.js";import"./chevron-right-PKkQ7-S3.js";import"./app-logo-icon-Cl7jW1Rp.js";import"./dialog-B7dZd4eG.js";const q=[{title:"Categories",href:"/category"}];function he(){const[S,m]=o.useState(!1),{flash:t,categories:n}=T().props,[w,d]=o.useState(!1),[h,x]=o.useState(null),y=()=>{h!==null&&(b.delete(route("blog.categories.destroy",h),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{x(null)}}),d(!1))},v=s=>{x(s),d(!0)};console.log(n);const C=o.useRef(k(s=>{const a={};s.trim()!==""&&(a.search=s),m(!0),b.get("/blog/categories",a,{preserveState:!0,replace:!0,onFinish:()=>m(!1)})},500)).current,D=s=>{const a=s.target.value;C(a)};return o.useEffect(()=>{t!=null&&t.success&&f.success(t.success),t!=null&&t.error&&f.error(t.error)},[t]),e.jsxs(e.Fragment,{children:[e.jsxs(I,{breadcrumbs:q,children:[e.jsx(A,{title:"Categories"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Categories"}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"relative md:w-1/4",children:[e.jsx(L,{id:"search",className:"peer ps-9",placeholder:"Search...",type:"text",onChange:D}),e.jsx("div",{className:"text-muted-foreground/80 pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 peer-disabled:opacity-50",children:e.jsx(H,{size:16,"aria-hidden":"true"})})]}),e.jsx(N,{href:route("blog.categories.create"),className:"px-3 py-1.5 bg-blue-600 text-white rounded-md",children:"Add New Category"})]}),e.jsxs("div",{children:[e.jsxs(P,{className:"border",children:[e.jsx(z,{children:e.jsxs(c,{children:[e.jsx(i,{children:"#"}),e.jsx(i,{children:"Image"}),e.jsx(i,{children:"Name with post count"}),e.jsx(i,{children:"Author"}),e.jsx(i,{children:"Created At"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(E,{children:S?Array.from({length:5}).map((s,a)=>e.jsxs(c,{children:[e.jsx(r,{children:e.jsx(l,{className:"h-4 w-4"})}),e.jsx(r,{children:e.jsx(l,{className:"h-10 w-10 rounded"})}),e.jsx(r,{children:e.jsx(l,{className:"h-4 w-24"})}),e.jsx(r,{children:e.jsx(l,{className:"h-4 w-20"})}),e.jsx(r,{children:e.jsx(l,{className:"h-4 w-24"})}),e.jsx(r,{children:e.jsx(l,{className:"h-4 w-20"})}),e.jsx(r,{children:e.jsx(l,{className:"h-8 w-16"})})]},a)):n.data.length>0?n.data.map((s,a)=>{var j,u,p,g;return e.jsxs(c,{children:[e.jsx(r,{children:a+1}),e.jsx(r,{children:e.jsx("img",{src:F((j=s.media)==null?void 0:j.path,400,300,((u=s.media)==null?void 0:u.name)||"No Image"),alt:(p=s.media)==null?void 0:p.name,className:"h-10 w-10 rounded object-cover"})}),e.jsxs(r,{children:[e.jsx(B,{slug:s.slug,name:s.name}),"(",s.blogs.length,")"]}),e.jsx(r,{children:(g=s.user)==null?void 0:g.name}),e.jsx(r,{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(r,{children:s.status}),e.jsxs(r,{className:"space-x-1",children:[e.jsx(N,{href:route("blog.posts.edit",s.id),className:"rounded bg-blue-500 cursor-pointer px-3 py-1 text-white hover:bg-blue-600 inline-flex items-center",children:e.jsx(_,{size:16})}),e.jsx("button",{className:"bg-red-500 hover:bg-red-400 cursor-pointer rounded px-3 py-1 text-white",onClick:()=>v(s.id),children:e.jsx($,{size:16})})]})]},s.id)}):e.jsx(c,{children:e.jsx(r,{colSpan:8,className:"text-center py-4",children:"No category found."})})})]}),e.jsx("div",{className:"mb-2",children:e.jsx(R,{meta:n.meta})})]})]})]}),e.jsx(V,{open:w,onClose:()=>d(!1),onConfirm:y,title:"Confirm Deletion",description:"Are you sure you want to delete this blog post?"})]})}export{he as default};
