import{r as d,j as e,t as U,m as F,K as W,V as P,L as G}from"./app-CnPBSRmV.js";import{A as q}from"./app-layout-B8pBA_0u.js";import{S as V}from"./layout-BPRrqChP.js";import{C,a as N}from"./card-1BztfP1z.js";import{I as x}from"./input-BTG-svuI.js";import{T as b,S as k}from"./textarea-B7VYgOIN.js";import{a as J,c as R,B as I}from"./button-DTBo_5fS.js";import"./index-DlhnWjWj.js";import"./app-BKfx1EWP.js";import"./index-uJtigS70.js";import"./x-CvrCE3zH.js";import"./createLucideIcon-DEC9lNbH.js";import"./index-DR6ioKo8.js";import"./chevron-right-DaaV7iES.js";import"./app-logo-icon-BGwhgN8G.js";import"./dialog-CM0YDgCQ.js";import"./media-cropper-VSMEcsYP.js";import"./delete-dialog-BD6sLaOt.js";import"./helpers-gu3OCxCZ.js";import"./loader-circle-CXkzwuSK.js";function K(t,o,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return o==null?void 0:o(r)}}function E(t,o){if(typeof t=="function")return t(o);t!=null&&(t.current=o)}function Q(...t){return o=>{let n=!1;const l=t.map(r=>{const a=E(r,o);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<l.length;r++){const a=l[r];typeof a=="function"?a():E(t[r],null)}}}}function A(...t){return d.useCallback(Q(...t),t)}function H(t,o=[]){let n=[];function l(a,c){const i=d.createContext(c),u=n.length;n=[...n,c];const f=h=>{var v;const{scope:s,children:p,...g}=h,_=((v=s==null?void 0:s[t])==null?void 0:v[u])||i,j=d.useMemo(()=>g,Object.values(g));return e.jsx(_.Provider,{value:j,children:p})};f.displayName=a+"Provider";function m(h,s){var _;const p=((_=s==null?void 0:s[t])==null?void 0:_[u])||i,g=d.useContext(p);if(g)return g;if(c!==void 0)return c;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[f,m]}const r=()=>{const a=n.map(c=>d.createContext(c));return function(i){const u=(i==null?void 0:i[t])||a;return d.useMemo(()=>({[`__scope${t}`]:{...i,[t]:u}}),[i,u])}};return r.scopeName=t,[l,Y(r,...o)]}function Y(...t){const o=t[0];if(t.length===1)return o;const n=()=>{const l=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const c=l.reduce((i,{useScope:u,scopeName:f})=>{const h=u(a)[`__scope${f}`];return{...i,...h}},{});return d.useMemo(()=>({[`__scope${o.scopeName}`]:c}),[c])}};return n.scopeName=o.scopeName,n}var X=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Z=U[" useInsertionEffect ".trim().toString()]||X;function ee({prop:t,defaultProp:o,onChange:n=()=>{},caller:l}){const[r,a,c]=te({defaultProp:o,onChange:n}),i=t!==void 0,u=i?t:r;{const m=d.useRef(t!==void 0);d.useEffect(()=>{const h=m.current;h!==i&&console.warn(`${l} is changing from ${h?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=i},[i,l])}const f=d.useCallback(m=>{var h;if(i){const s=se(m)?m(t):m;s!==t&&((h=c.current)==null||h.call(c,s))}else a(m)},[i,t,a,c]);return[u,f]}function te({defaultProp:t,onChange:o}){const[n,l]=d.useState(t),r=d.useRef(n),a=d.useRef(o);return Z(()=>{a.current=o},[o]),d.useEffect(()=>{var c;r.current!==n&&((c=a.current)==null||c.call(a,n),r.current=n)},[n,r]),[n,l,a]}function se(t){return typeof t=="function"}function oe(t){const o=d.useRef({value:t,previous:t});return d.useMemo(()=>(o.current.value!==t&&(o.current.previous=o.current.value,o.current.value=t),o.current.previous),[t])}function ne(t){const[o,n]=d.useState(void 0);return X(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const l=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let c,i;if("borderBoxSize"in a){const u=a.borderBoxSize,f=Array.isArray(u)?u[0]:u;c=f.inlineSize,i=f.blockSize}else c=t.offsetWidth,i=t.offsetHeight;n({width:c,height:i})});return l.observe(t,{box:"border-box"}),()=>l.unobserve(t)}else n(void 0)},[t]),o}var ae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],z=ae.reduce((t,o)=>{const n=J(`Primitive.${o}`),l=d.forwardRef((r,a)=>{const{asChild:c,...i}=r,u=c?n:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...i,ref:a})});return l.displayName=`Primitive.${o}`,{...t,[o]:l}},{}),y="Switch",[re,Xe]=H(y),[ce,ie]=re(y),B=d.forwardRef((t,o)=>{const{__scopeSwitch:n,name:l,checked:r,defaultChecked:a,required:c,disabled:i,value:u="on",onCheckedChange:f,form:m,...h}=t,[s,p]=d.useState(null),g=A(o,S=>p(S)),_=d.useRef(!1),j=s?m||!!s.closest("form"):!0,[v,D]=ee({prop:r,defaultProp:a??!1,onChange:f,caller:y});return e.jsxs(ce,{scope:n,checked:v,disabled:i,children:[e.jsx(z.button,{type:"button",role:"switch","aria-checked":v,"aria-required":c,"data-state":$(v),"data-disabled":i?"":void 0,disabled:i,value:u,...h,ref:g,onClick:K(t.onClick,S=>{D(O=>!O),j&&(_.current=S.isPropagationStopped(),_.current||S.stopPropagation())})}),j&&e.jsx(M,{control:s,bubbles:!_.current,name:l,value:u,checked:v,required:c,disabled:i,form:m,style:{transform:"translateX(-100%)"}})]})});B.displayName=y;var L="SwitchThumb",T=d.forwardRef((t,o)=>{const{__scopeSwitch:n,...l}=t,r=ie(L,n);return e.jsx(z.span,{"data-state":$(r.checked),"data-disabled":r.disabled?"":void 0,...l,ref:o})});T.displayName=L;var le="SwitchBubbleInput",M=d.forwardRef(({__scopeSwitch:t,control:o,checked:n,bubbles:l=!0,...r},a)=>{const c=d.useRef(null),i=A(c,a),u=oe(n),f=ne(o);return d.useEffect(()=>{const m=c.current;if(!m)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==n&&p){const g=new Event("click",{bubbles:l});p.call(m,n),m.dispatchEvent(g)}},[u,n,l]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:i,style:{...r.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});M.displayName=le;function $(t){return t?"checked":"unchecked"}var de=B,ue=T;function w({className:t,...o}){return e.jsx(de,{"data-slot":"switch",className:R("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...o,children:e.jsx(ue,{"data-slot":"switch-thumb",className:R("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const me=[{title:"Settings",href:"/settings"}];function ze({settings:t}){const{data:o,setData:n,post:l,processing:r}=F({site_name:t.site_name||"",site_email:t.site_email||"",site_description:t.site_description||"",site_logo:t.site_logo||"",favicon:t.favicon||"",cache_blog_enabled:String(t.cache_blog_enabled)==="1",cache_blog_duration:t.cache_blog_duration||10,meta_title:t.meta_title||"",site_keywords:t.site_keywords||"",og_image:t.og_image||"",google_analytics_id:t.google_analytics_id||"",google_adsense_id:t.google_adsense_id||"",adsense_auto_enabled:String(t.adsense_auto_enabled)==="1",meta_pixel_id:t.meta_pixel_id||"",header_script:t.header_script||"",footer_script:t.footer_script||"",cookie_consent_text:t.cookie_consent_text||"",allow_registration:String(t.allow_registration)==="1",allow_indexing:String(t.allow_indexing)==="1",robots_txt:t.robots_txt||""}),{flash:a}=W().props,[c]=d.useState(),i=s=>{s.preventDefault(),l(route("admin.settings.update"))},u=()=>{l(route("admin.settings.clear"),{preserveScroll:!0})},f=s=>{(s==null?void 0:s.id)!==void 0&&n("og_image",(s==null?void 0:s.path)??null)},m=s=>{(s==null?void 0:s.id)!==void 0&&n("favicon",(s==null?void 0:s.path)??null)},h=s=>{(s==null?void 0:s.id)!==void 0&&n("site_logo",(s==null?void 0:s.path)??null)};return d.useEffect(()=>{a!=null&&a.success&&P.success(a.success),a!=null&&a.error&&P.error(a.error)},[a]),e.jsxs(q,{breadcrumbs:me,children:[e.jsx(G,{title:"Settings"}),e.jsx(V,{children:e.jsxs("form",{onSubmit:i,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(C,{className:"w-full",children:e.jsxs(N,{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"General"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Site Name"}),e.jsx(x,{value:o.site_name,onChange:s=>n("site_name",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Site Email"}),e.jsx(x,{value:o.site_email,onChange:s=>n("site_email",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Site Description"}),e.jsx(b,{value:o.site_description,onChange:s=>n("site_description",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(k,{onSelect:h,initial:c}),e.jsx("label",{className:"text-sm font-medium",children:"Site Logo (Image URL or Path)"}),e.jsx(x,{value:o.site_logo,onChange:s=>n("site_logo",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(k,{onSelect:m,initial:c}),e.jsx("label",{className:"text-sm font-medium",children:"Favicon (Image URL or Path)"}),e.jsx(x,{value:o.favicon,onChange:s=>n("favicon",s.target.value)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Enable Blog Cache"}),e.jsx(w,{checked:o.cache_blog_enabled,onCheckedChange:s=>n("cache_blog_enabled",s)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Blog Cache Duration (minutes)"}),e.jsx(x,{type:"number",min:1,value:String(o.cache_blog_duration),onChange:s=>n("cache_blog_duration",Number(s.target.value))})]})]})}),e.jsx(C,{className:"w-full",children:e.jsxs(N,{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"SEO & Ads"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Meta Title"}),e.jsx(x,{value:o.meta_title,onChange:s=>n("meta_title",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Website keywords (Job, Quiz, news etc)"}),e.jsx(b,{value:o.site_keywords,onChange:s=>n("site_keywords",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(k,{onSelect:f,initial:c}),e.jsx("label",{className:"text-sm font-medium",children:"OG Image (Image URL or Path)"}),e.jsx(x,{value:o.og_image,onChange:s=>n("og_image",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Google Analytics ID"}),e.jsx(x,{value:o.google_analytics_id,onChange:s=>n("google_analytics_id",s.target.value)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Enable AdSense Auto Ads"}),e.jsx(w,{checked:o.adsense_auto_enabled,onCheckedChange:s=>n("adsense_auto_enabled",s)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium",children:["AdSense Publisher ID (",e.jsx("small",{children:"ca-pub-XXXXXXXXXXXXXXX"}),")"]}),e.jsx(x,{value:o.google_adsense_id,onChange:s=>n("google_adsense_id",s.target.value)})]})]})}),e.jsx(C,{className:"md:col-span-2 w-full",children:e.jsxs(N,{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Advanced Settings"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Meta Pixel ID"}),e.jsx(x,{value:o.meta_pixel_id,onChange:s=>n("meta_pixel_id",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Header Script"}),e.jsx(b,{value:o.header_script,onChange:s=>n("header_script",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Footer Script"}),e.jsx(b,{value:o.footer_script,onChange:s=>n("footer_script",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Cookie Consent Text"}),e.jsx(b,{value:o.cookie_consent_text,onChange:s=>n("cookie_consent_text",s.target.value),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Allow Registration"}),e.jsx(w,{checked:o.allow_registration,onCheckedChange:s=>n("allow_registration",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Allow Indexing"}),e.jsx(w,{checked:o.allow_indexing,onCheckedChange:s=>n("allow_indexing",s)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Custom robots.txt"}),e.jsx(b,{value:o.robots_txt,onChange:s=>n("robots_txt",s.target.value),rows:6})]})]})}),e.jsxs("div",{className:"md:col-span-2 flex justify-end gap-4 mt-4",children:[e.jsx(I,{type:"button",variant:"destructive",onClick:u,children:"Clear Cache"}),e.jsx(I,{type:"submit",disabled:r,children:"Save Settings"})]})]})})]})}export{ze as default};
