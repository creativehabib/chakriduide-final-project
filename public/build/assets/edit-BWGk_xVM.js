import{r as d,j as e,t as U,m as F,K as G,V as w,L as W,S as q}from"./app-CbuFjYad.js";import{A as V}from"./app-layout-E9cK6IXR.js";import{S as J}from"./layout-DY8CMEuv.js";import{C as N,a as k}from"./card-BgLw8ZFj.js";import{I as x}from"./input-CRXSFFnE.js";import{T as b,S as P}from"./textarea-DhgKa6Hh.js";import{a as K,c as E,B as R}from"./button-BpXLe4Le.js";import"./index-0vszyu54.js";import"./app-DSIrS37V.js";import"./index-DEiSlGo9.js";import"./x-BuzMCenu.js";import"./createLucideIcon-tmvQvXc7.js";import"./index-DBqgz-Sy.js";import"./chevron-right-BUGrTOmQ.js";import"./app-logo-icon-B_x3FiA3.js";import"./dialog-DzPSKXkP.js";import"./media-cropper-C8NSNhWo.js";import"./delete-dialog-CDYFkxTq.js";import"./helpers-gu3OCxCZ.js";import"./loader-circle-BwZb8lAe.js";function Q(t,o,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return o==null?void 0:o(a)}}function I(t,o){if(typeof t=="function")return t(o);t!=null&&(t.current=o)}function H(...t){return o=>{let n=!1;const l=t.map(a=>{const r=I(a,o);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let a=0;a<l.length;a++){const r=l[a];typeof r=="function"?r():I(t[a],null)}}}}function A(...t){return d.useCallback(H(...t),t)}function Y(t,o=[]){let n=[];function l(r,c){const i=d.createContext(c),u=n.length;n=[...n,c];const p=f=>{var _;const{scope:h,children:s,...g}=f,v=((_=h==null?void 0:h[t])==null?void 0:_[u])||i,j=d.useMemo(()=>g,Object.values(g));return e.jsx(v.Provider,{value:j,children:s})};p.displayName=r+"Provider";function m(f,h){var v;const s=((v=h==null?void 0:h[t])==null?void 0:v[u])||i,g=d.useContext(s);if(g)return g;if(c!==void 0)return c;throw new Error(`\`${f}\` must be used within \`${r}\``)}return[p,m]}const a=()=>{const r=n.map(c=>d.createContext(c));return function(i){const u=(i==null?void 0:i[t])||r;return d.useMemo(()=>({[`__scope${t}`]:{...i,[t]:u}}),[i,u])}};return a.scopeName=t,[l,Z(a,...o)]}function Z(...t){const o=t[0];if(t.length===1)return o;const n=()=>{const l=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(r){const c=l.reduce((i,{useScope:u,scopeName:p})=>{const f=u(r)[`__scope${p}`];return{...i,...f}},{});return d.useMemo(()=>({[`__scope${o.scopeName}`]:c}),[c])}};return n.scopeName=o.scopeName,n}var X=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},ee=U[" useInsertionEffect ".trim().toString()]||X;function te({prop:t,defaultProp:o,onChange:n=()=>{},caller:l}){const[a,r,c]=se({defaultProp:o,onChange:n}),i=t!==void 0,u=i?t:a;{const m=d.useRef(t!==void 0);d.useEffect(()=>{const f=m.current;f!==i&&console.warn(`${l} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=i},[i,l])}const p=d.useCallback(m=>{var f;if(i){const h=oe(m)?m(t):m;h!==t&&((f=c.current)==null||f.call(c,h))}else r(m)},[i,t,r,c]);return[u,p]}function se({defaultProp:t,onChange:o}){const[n,l]=d.useState(t),a=d.useRef(n),r=d.useRef(o);return ee(()=>{r.current=o},[o]),d.useEffect(()=>{var c;a.current!==n&&((c=r.current)==null||c.call(r,n),a.current=n)},[n,a]),[n,l,r]}function oe(t){return typeof t=="function"}function ne(t){const o=d.useRef({value:t,previous:t});return d.useMemo(()=>(o.current.value!==t&&(o.current.previous=o.current.value,o.current.value=t),o.current.previous),[t])}function re(t){const[o,n]=d.useState(void 0);return X(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const l=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const r=a[0];let c,i;if("borderBoxSize"in r){const u=r.borderBoxSize,p=Array.isArray(u)?u[0]:u;c=p.inlineSize,i=p.blockSize}else c=t.offsetWidth,i=t.offsetHeight;n({width:c,height:i})});return l.observe(t,{box:"border-box"}),()=>l.unobserve(t)}else n(void 0)},[t]),o}var ae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],z=ae.reduce((t,o)=>{const n=K(`Primitive.${o}`),l=d.forwardRef((a,r)=>{const{asChild:c,...i}=a,u=c?n:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...i,ref:r})});return l.displayName=`Primitive.${o}`,{...t,[o]:l}},{}),C="Switch",[ce,ze]=Y(C),[ie,le]=ce(C),B=d.forwardRef((t,o)=>{const{__scopeSwitch:n,name:l,checked:a,defaultChecked:r,required:c,disabled:i,value:u="on",onCheckedChange:p,form:m,...f}=t,[h,s]=d.useState(null),g=A(o,S=>s(S)),v=d.useRef(!1),j=h?m||!!h.closest("form"):!0,[_,D]=te({prop:a,defaultProp:r??!1,onChange:p,caller:C});return e.jsxs(ie,{scope:n,checked:_,disabled:i,children:[e.jsx(z.button,{type:"button",role:"switch","aria-checked":_,"aria-required":c,"data-state":$(_),"data-disabled":i?"":void 0,disabled:i,value:u,...f,ref:g,onClick:Q(t.onClick,S=>{D(O=>!O),j&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),j&&e.jsx(M,{control:h,bubbles:!v.current,name:l,value:u,checked:_,required:c,disabled:i,form:m,style:{transform:"translateX(-100%)"}})]})});B.displayName=C;var L="SwitchThumb",T=d.forwardRef((t,o)=>{const{__scopeSwitch:n,...l}=t,a=le(L,n);return e.jsx(z.span,{"data-state":$(a.checked),"data-disabled":a.disabled?"":void 0,...l,ref:o})});T.displayName=L;var de="SwitchBubbleInput",M=d.forwardRef(({__scopeSwitch:t,control:o,checked:n,bubbles:l=!0,...a},r)=>{const c=d.useRef(null),i=A(c,r),u=ne(n),p=re(o);return d.useEffect(()=>{const m=c.current;if(!m)return;const f=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==n&&s){const g=new Event("click",{bubbles:l});s.call(m,n),m.dispatchEvent(g)}},[u,n,l]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});M.displayName=de;function $(t){return t?"checked":"unchecked"}var ue=B,me=T;function y({className:t,...o}){return e.jsx(ue,{"data-slot":"switch",className:E("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...o,children:e.jsx(me,{"data-slot":"switch-thumb",className:E("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const he=[{title:"Settings",href:"/settings"}];function Be({settings:t}){const{data:o,setData:n,post:l,processing:a}=F({site_name:t.site_name||"",site_email:t.site_email||"",site_description:t.site_description||"",site_logo:t.site_logo||"",favicon:t.favicon||"",cache_blog_enabled:String(t.cache_blog_enabled)==="1",cache_blog_duration:t.cache_blog_duration||10,meta_title:t.meta_title||"",site_keywords:t.site_keywords||"",og_image:t.og_image||"",google_analytics_id:t.google_analytics_id||"",google_adsense_id:t.google_adsense_id||"",adsense_auto_enabled:String(t.adsense_auto_enabled)==="1",meta_pixel_id:t.meta_pixel_id||"",header_script:t.header_script||"",footer_script:t.footer_script||"",cookie_consent_text:t.cookie_consent_text||"",allow_registration:String(t.allow_registration)==="1",allow_indexing:String(t.allow_indexing)==="1",robots_txt:t.robots_txt||""}),{flash:r}=G().props,[c]=d.useState(),i=s=>{s.preventDefault(),l(route("admin.settings.update"))},u=()=>{l(route("admin.settings.clear"),{preserveScroll:!0})},p=s=>{(s==null?void 0:s.id)!==void 0&&n("og_image",(s==null?void 0:s.path)??null)},m=s=>{(s==null?void 0:s.id)!==void 0&&n("favicon",(s==null?void 0:s.path)??null)},f=s=>{(s==null?void 0:s.id)!==void 0&&n("site_logo",(s==null?void 0:s.path)??null)},h=()=>{q.post(route("admin.settings.generate-sitemap"),{},{preserveScroll:!0,onSuccess:()=>w.success("Sitemap generated successfully!"),onError:()=>w.error("Sitemap generation failed!")})};return d.useEffect(()=>{r!=null&&r.success&&w.success(r.success),r!=null&&r.error&&w.error(r.error)},[r]),e.jsxs(V,{breadcrumbs:he,children:[e.jsx(W,{title:"Settings"}),e.jsx(J,{children:e.jsxs("form",{onSubmit:i,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(N,{className:"w-full",children:e.jsxs(k,{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"General"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Site Name"}),e.jsx(x,{value:o.site_name,onChange:s=>n("site_name",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Site Email"}),e.jsx(x,{value:o.site_email,onChange:s=>n("site_email",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Site Description"}),e.jsx(b,{value:o.site_description,onChange:s=>n("site_description",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{onSelect:f,initial:c}),e.jsx("label",{className:"text-sm font-medium",children:"Site Logo (Image URL or Path)"}),e.jsx(x,{value:o.site_logo,onChange:s=>n("site_logo",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{onSelect:m,initial:c}),e.jsx("label",{className:"text-sm font-medium",children:"Favicon (Image URL or Path)"}),e.jsx(x,{value:o.favicon,onChange:s=>n("favicon",s.target.value)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Enable Blog Cache"}),e.jsx(y,{checked:o.cache_blog_enabled,onCheckedChange:s=>n("cache_blog_enabled",s)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Blog Cache Duration (minutes)"}),e.jsx(x,{type:"number",min:1,value:String(o.cache_blog_duration),onChange:s=>n("cache_blog_duration",Number(s.target.value))})]})]})}),e.jsx(N,{className:"w-full",children:e.jsxs(k,{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"SEO & Ads"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Meta Title"}),e.jsx(x,{value:o.meta_title,onChange:s=>n("meta_title",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Website keywords (Job, Quiz, news etc)"}),e.jsx(b,{value:o.site_keywords,onChange:s=>n("site_keywords",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(P,{onSelect:p,initial:c}),e.jsx("label",{className:"text-sm font-medium",children:"OG Image (Image URL or Path)"}),e.jsx(x,{value:o.og_image,onChange:s=>n("og_image",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Google Analytics ID"}),e.jsx(x,{value:o.google_analytics_id,onChange:s=>n("google_analytics_id",s.target.value)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Enable AdSense Auto Ads"}),e.jsx(y,{checked:o.adsense_auto_enabled,onCheckedChange:s=>n("adsense_auto_enabled",s)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium",children:["AdSense Publisher ID (",e.jsx("small",{children:"ca-pub-XXXXXXXXXXXXXXX"}),")"]}),e.jsx(x,{value:o.google_adsense_id,onChange:s=>n("google_adsense_id",s.target.value)})]})]})}),e.jsx(N,{className:"md:col-span-2 w-full",children:e.jsxs(k,{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Advanced Settings"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Meta Pixel ID"}),e.jsx(x,{value:o.meta_pixel_id,onChange:s=>n("meta_pixel_id",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Header Script"}),e.jsx(b,{value:o.header_script,onChange:s=>n("header_script",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Footer Script"}),e.jsx(b,{value:o.footer_script,onChange:s=>n("footer_script",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Cookie Consent Text"}),e.jsx(b,{value:o.cookie_consent_text,onChange:s=>n("cookie_consent_text",s.target.value),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Allow Registration"}),e.jsx(y,{checked:o.allow_registration,onCheckedChange:s=>n("allow_registration",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Allow Indexing"}),e.jsx(y,{checked:o.allow_indexing,onCheckedChange:s=>n("allow_indexing",s)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Custom robots.txt"}),e.jsx(b,{value:o.robots_txt,onChange:s=>n("robots_txt",s.target.value),rows:6})]})]})}),e.jsxs("div",{className:"md:col-span-2 flex justify-end gap-4 mt-4",children:[e.jsx(R,{type:"button",onClick:h,variant:"outline",children:"Generate Sitemap"}),e.jsx(R,{type:"button",variant:"destructive",onClick:u,children:"Clear Cache"}),e.jsx(R,{type:"submit",disabled:a,children:"Save Settings"})]})]})})]})}export{Be as default};
