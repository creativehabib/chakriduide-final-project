import{r as p,K as v,V as x,U as h,j as e,L as U,S as u}from"./app-BonGa7o_.js";import{A as w}from"./app-layout-B_nz9MTG.js";import{g as E}from"./helpers-CJ0wjd5O.js";import{D as I}from"./delete-dialog-BON_TdG5.js";import{C as A,a as L}from"./card-DLguofwQ.js";import{T as k,a as z,b as j,c as r,d as F,e as t,I as H}from"./inertia-pagination-BWWHVh9e.js";import{T as P}from"./toggle-CPS1FE2B.js";import R from"./form-Cx9r_QH4.js";import{S as V}from"./square-pen-BzhCFcqh.js";import{T as q}from"./trash-2-DWBQcU00.js";import"./app-DlqnTGjg.js";import"./button-CeQpY277.js";import"./index-DhVUwTpo.js";import"./index-BqPP9ZU2.js";import"./index-Cyr4dT8B.js";import"./x-Dx8WCfj3.js";import"./createLucideIcon-BjmVZKAO.js";import"./index-CD165OvS.js";import"./index-B0fd3HCO.js";import"./index-B_sWHI7M.js";import"./chevron-right-UWs0q-gb.js";import"./app-logo-icon-RvyW4fRr.js";import"./dialog-DZkQS6FD.js";import"./media-image-select-BAOIRO0U.js";import"./media-cropper-BxlM3s14.js";import"./input-Bx8p5WMQ.js";import"./loader-circle-Cxkw0kcW.js";import"./label-BYrUGRqV.js";import"./input-error-CtW5S7_e.js";import"./textarea-BBHQQqcD.js";const B=[{title:"Users",href:"/users"}],ge=()=>{var d;const[f,i]=p.useState(null),{flash:l,users:o,media:g}=v().props;p.useEffect(()=>{l.success&&x.success(l.success),l.error&&x.error(l.error)},[l]);const[b,a]=h.useState(!1),[n,S]=h.useState(null),T=s=>{S(s),a(!0)},C=()=>{n!==null&&(u.delete(route("users.destroy",n),{preserveScroll:!0,preserveState:!0,only:["users","flash"]}),a(!1))},D=s=>{u.post(route("users.toggle-status",s),{},{only:["users","flash"],preserveScroll:!0,preserveState:!1})},N=s=>{i(s)};return e.jsxs(e.Fragment,{children:[e.jsxs(w,{breadcrumbs:B,children:[e.jsx(U,{title:"Users"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Users"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(R,{user:f,media:g,onClose:()=>i(null),triggerLabel:"Add User",open:!1})})]}),e.jsx(A,{children:e.jsx(L,{children:e.jsxs(k,{children:[e.jsx(z,{children:e.jsxs(j,{children:[e.jsx(r,{children:"#"}),e.jsx(r,{children:"Image"}),e.jsx(r,{children:"Name"}),e.jsx(r,{children:"Email"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Actions"})]})}),e.jsx(F,{children:o.data.length>0?(d=o.data)==null?void 0:d.map((s,y)=>{var c,m;return e.jsxs(j,{children:[e.jsx(t,{children:y+1}),e.jsx(t,{children:e.jsx("img",{src:E((c=s.media)==null?void 0:c.path,400,300,((m=s.media)==null?void 0:m.name)||"No Image"),alt:s.name,className:"w-10 h-10 rounded-full"})}),e.jsx(t,{children:s.name}),e.jsx(t,{children:s.email}),e.jsx(t,{children:e.jsx(P,{initial:s.status,onChange:()=>D(s.id)})}),e.jsxs(t,{className:"space-x-1",children:[e.jsx("button",{onClick:()=>N(s),className:"cursor-pointer rounded bg-blue-500 px-3 py-1 text-white hover:bg-blue-600",children:e.jsx(V,{size:16})}),e.jsx("button",{className:"cursor-pointer rounded bg-red-500 px-3 py-1 text-white hover:bg-red-400",onClick:()=>T(s.id),children:e.jsx(q,{size:16})})]})]},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-4 text-center",children:"No users found."})})})]})})}),e.jsx(H,{meta:o.meta})]})]}),e.jsx(I,{open:b,onClose:()=>a(!1),onConfirm:C,title:"Confirm Deletion",description:"Are you sure you want to delete this user?"})]})};export{ge as default};
