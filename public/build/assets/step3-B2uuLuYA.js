import{K as x,m as u,r as D,V as m,j as e,L as h}from"./app-Db4c8XHN.js";import b from"./AppInstallLayout-DWx8s_BU.js";import{L as o,I as d}from"./input-error-DzN8PihR.js";import{I as i}from"./input-4YuaBmn5.js";import{C as S}from"./checkbox-qGxfbikV.js";import{B}from"./button-BQErc2DH.js";import{L as _}from"./loader-circle-CK-cNMw0.js";import"./app-71-7oTll.js";import"./index-Cw_jhpWL.js";import"./index-AsxgCe5C.js";import"./check-wwMJbc06.js";import"./createLucideIcon-O7qv5Jjx.js";const H=()=>{const{flash:s}=x().props,{data:t,setData:r,post:c,processing:n,errors:l}=u({types:["DB_HOST","DB_DATABASE","DB_USERNAME","DB_PASSWORD"],DB_HOST:"",DB_DATABASE:"",DB_USERNAME:"",DB_PASSWORD:"",reset:!1}),p=a=>{a.preventDefault(),c(route("install.db"))};return D.useEffect(()=>{s!=null&&s.success&&m.success(s.success),s!=null&&s.error&&m.error(s.error)},[s]),e.jsxs(b,{children:[e.jsx(h,{title:"Step 3"}),e.jsxs("div",{className:"rounded-xl border p-6",children:[e.jsx("h1",{className:"mb-2 text-center text-2xl font-bold",children:"Database setup"}),e.jsx("p",{className:"mb-3 text-center",children:"Fill this form with valid database credentials"}),e.jsx("form",{className:"flex flex-col gap-6",onSubmit:p,children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"db_host",children:"Database Host"}),e.jsx(i,{id:"db_host",type:"DB_HOST",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"DB_HOST",value:t.DB_HOST,onChange:a=>r("DB_HOST",a.target.value),placeholder:"localhost"}),e.jsx(d,{message:l.DB_HOST})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"db_name",children:"Database Name"}),e.jsx(i,{id:"db_name",type:"text",required:!0,tabIndex:2,autoComplete:"DB_DATABASE",value:t.DB_DATABASE,onChange:a=>r("DB_DATABASE",a.target.value),placeholder:"Enter database name"}),e.jsx(d,{message:l.DB_DATABASE})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"db_user",children:"Database Username"}),e.jsx(i,{id:"db_user",type:"text",required:!0,tabIndex:3,autoComplete:"DB_USERNAME",value:t.DB_USERNAME,onChange:a=>r("DB_USERNAME",a.target.value),placeholder:"Enter database username"}),e.jsx(d,{message:l.DB_USERNAME})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"db_pass",children:"Database Password"}),e.jsx(i,{id:"db_pass",type:"password",tabIndex:4,value:t.DB_PASSWORD,onChange:a=>r("DB_PASSWORD",a.target.value),placeholder:"Enter database password"}),e.jsx(d,{message:l.DB_PASSWORD})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{id:"reset",name:"reset",checked:t.reset,onClick:()=>r("reset",!t.reset),tabIndex:3}),e.jsx(o,{htmlFor:"reset",children:"Reset database before installing (fresh migration)"})]}),e.jsxs(B,{type:"submit",className:"mt-2 w-full cursor-pointer",tabIndex:4,disabled:n,children:[n&&e.jsx(_,{className:"h-4 w-4 animate-spin"}),"Continue"]})]})})]})]})};export{H as default};
