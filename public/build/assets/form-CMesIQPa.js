import{U as r,r as at,j as y,m as be}from"./app-DTd9wjfa.js";import{T as xe,b as Se,D as Te,a as De,R as Ee,C as Re,P as Ce,O as Oe}from"./index-DERf3mOO.js";import{c as ot,B as vt}from"./button-XfiNeVdM.js";import{t as $e}from"./helpers-CJ0wjd5O.js";import{S as Ae}from"./media-image-select-BAx8M405.js";import{L as Ne}from"./label-CVO3NKv5.js";import{I as Pe}from"./input-error-Bod36tQn.js";import{I as dt}from"./input-BlU22FNz.js";import{T as Me}from"./textarea-w7Np7bCK.js";import"./app-axUgbDtV.js";import"./index-CE2-Dy8D.js";import"./index-BCYJwnHl.js";import"./dialog-Dr9zqyi6.js";import"./x-sS9OQ0HV.js";import"./createLucideIcon-BgZh0ua6.js";import"./media-cropper-B_JraDPe.js";import"./delete-dialog-IzIgrR1a.js";import"./loader-circle-CAyFx_X5.js";import"./square-pen-D-eCPEUM.js";function je(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Kt=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),pt=()=>{const t=r.useContext(Kt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};je(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Ie(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function _e(){return Mt(/^Mac/)}function ke(){return Mt(/^iPhone/)}function Wt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function He(){return Mt(/^iPad/)||_e()&&navigator.maxTouchPoints>1}function Gt(){return ke()||He()}function Mt(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Le=24,Be=typeof window<"u"?at.useLayoutEffect:at.useEffect;function Vt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}const Ct=typeof document<"u"&&window.visualViewport;function Yt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function Jt(t){for(Yt(t)&&(t=t.parentElement);t&&!Yt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Fe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let yt=0,Ot;function Ue(t={}){let{isDisabled:n}=t;Be(()=>{if(!n)return yt++,yt===1&&Gt()&&(Ot=ze()),()=>{yt--,yt===0&&(Ot==null||Ot())}},[n])}function ze(){let t,n=0,e=m=>{t=Jt(m.target),!(t===document.documentElement&&t===document.body)&&(n=m.changedTouches[0].pageY)},o=m=>{if(!t||t===document.documentElement||t===document.body){m.preventDefault();return}let d=m.changedTouches[0].pageY,M=t.scrollTop,j=t.scrollHeight-t.clientHeight;j!==0&&((M<=0&&d>n||M>=j&&d<n)&&m.preventDefault(),n=d)},i=m=>{let d=m.target;Nt(d)&&d!==document.activeElement&&(m.preventDefault(),d.style.transform="translateY(-2000px)",d.focus(),requestAnimationFrame(()=>{d.style.transform=""}))},a=m=>{let d=m.target;Nt(d)&&(d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",Ct&&(Ct.height<window.innerHeight?requestAnimationFrame(()=>{qt(d)}):Ct.addEventListener("resize",()=>qt(d),{once:!0}))}))},g=()=>{window.scrollTo(0,0)},w=window.pageXOffset,x=window.pageYOffset,E=Vt(We(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let v=Vt(ft(document,"touchstart",e,{passive:!1,capture:!0}),ft(document,"touchmove",o,{passive:!1,capture:!0}),ft(document,"touchend",i,{passive:!1,capture:!0}),ft(document,"focus",a,!0),ft(window,"scroll",g));return()=>{E(),v(),window.scrollTo(w,x)}}function We(t,n,e){let o=t.style[n];return t.style[n]=e,()=>{t.style[n]=o}}function ft(t,n,e,o){return t.addEventListener(n,e,o),()=>{t.removeEventListener(n,e,o)}}function qt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=Jt(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let o=e.getBoundingClientRect().top,i=t.getBoundingClientRect().top,a=t.getBoundingClientRect().bottom;const g=e.getBoundingClientRect().bottom+Le;a>g&&(e.scrollTop+=i-o)}t=e.parentElement}}function Nt(t){return t instanceof HTMLInputElement&&!Fe.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Ve(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function Ye(...t){return n=>t.forEach(e=>Ve(e,n))}function Qt(...t){return at.useCallback(Ye(...t),t)}const Zt=new WeakMap;function P(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let o={};Object.entries(n).forEach(([i,a])=>{if(i.startsWith("--")){t.style.setProperty(i,a);return}o[i]=t.style[i],t.style[i]=a}),!e&&Zt.set(t,o)}function qe(t,n){if(!t||!(t instanceof HTMLElement))return;let e=Zt.get(t);e&&(t.style[n]=e[n])}const A=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function bt(t,n){if(!t)return null;const e=window.getComputedStyle(t),o=e.transform||e.webkitTransform||e.mozTransform;let i=o.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[A(n)?13:12]):(i=o.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[A(n)?5:4]):null)}function Xe(t){return 8*(Math.log(t+1)-2)}function $t(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function Ke(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const O={DURATION:.5,EASE:[.32,.72,0,1]},te=.4,Ge=.25,Je=100,ee=8,xt=16,Pt=26,At="vaul-dragging";function ne(t){const n=r.useRef(t);return r.useEffect(()=>{n.current=t}),r.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function Qe({defaultProp:t,onChange:n}){const e=r.useState(t),[o]=e,i=r.useRef(o),a=ne(n);return r.useEffect(()=>{i.current!==o&&(a(o),i.current=o)},[o,i,a]),e}function re({prop:t,defaultProp:n,onChange:e=()=>{}}){const[o,i]=Qe({defaultProp:n,onChange:e}),a=t!==void 0,g=a?t:o,w=ne(e),x=r.useCallback(E=>{if(a){const m=typeof E=="function"?E(t):E;m!==t&&w(m)}else i(E)},[a,t,i,w]);return[g,x]}function Ze({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:o,overlayRef:i,fadeFromIndex:a,onSnapPointChange:g,direction:w="bottom",container:x,snapToSequentialPoint:E}){const[v,m]=re({prop:t,defaultProp:e==null?void 0:e[0],onChange:n}),[d,M]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function f(){M({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const j=r.useMemo(()=>v===(e==null?void 0:e[e.length-1])||null,[e,v]),C=r.useMemo(()=>{var f;return(f=e==null?void 0:e.findIndex(T=>T===v))!=null?f:null},[e,v]),k=e&&e.length>0&&(a||a===0)&&!Number.isNaN(a)&&e[a]===v||!e,h=r.useMemo(()=>{const f=x?{width:x.getBoundingClientRect().width,height:x.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var T;return(T=e==null?void 0:e.map(S=>{const H=typeof S=="string";let I=0;if(H&&(I=parseInt(S,10)),A(w)){const u=H?I:d?S*f.height:0;return d?w==="bottom"?f.height-u:-f.height+u:u}const W=H?I:d?S*f.width:0;return d?w==="right"?f.width-W:-f.width+W:W}))!=null?T:[]},[e,d,x]),N=r.useMemo(()=>C!==null?h==null?void 0:h[C]:null,[h,C]),c=r.useCallback(f=>{var T;const S=(T=h==null?void 0:h.findIndex(H=>H===f))!=null?T:null;g(S),P(o.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:A(w)?`translate3d(0, ${f}px, 0)`:`translate3d(${f}px, 0, 0)`}),h&&S!==h.length-1&&a!==void 0&&S!==a&&S<a?P(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"0"}):P(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),m(e==null?void 0:e[Math.max(S,0)])},[o.current,e,h,a,i,m]);r.useEffect(()=>{if(v||t){var f;const T=(f=e==null?void 0:e.findIndex(S=>S===t||S===v))!=null?f:-1;h&&T!==-1&&typeof h[T]=="number"&&c(h[T])}},[v,t,e,h,c]);function l({draggedDistance:f,closeDrawer:T,velocity:S,dismissible:H}){if(a===void 0)return;const I=w==="bottom"||w==="right"?(N??0)-f:(N??0)+f,W=C===a-1,u=C===0,z=f>0;if(W&&P(i.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),!E&&S>2&&!z){H?T():c(h[0]);return}if(!E&&S>2&&z&&h&&e){c(h[e.length-1]);return}const L=h==null?void 0:h.reduce((_,X)=>typeof _!="number"||typeof X!="number"?_:Math.abs(X-I)<Math.abs(_-I)?X:_),V=A(w)?window.innerHeight:window.innerWidth;if(S>te&&Math.abs(f)<V*.4){const _=z?1:-1;if(_>0&&j&&e){c(h[e.length-1]);return}if(u&&_<0&&H&&T(),C===null)return;c(h[C+_]);return}c(L)}function F({draggedDistance:f}){if(N===null)return;const T=w==="bottom"||w==="right"?N-f:N+f;(w==="bottom"||w==="right")&&T<h[h.length-1]||(w==="top"||w==="left")&&T>h[h.length-1]||P(o.current,{transform:A(w)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`})}function Z(f,T){if(!e||typeof C!="number"||!h||a===void 0)return null;const S=C===a-1;if(C>=a&&T)return 0;if(S&&!T)return 1;if(!k&&!S)return null;const I=S?C+1:C-1,W=S?h[I]-h[I-1]:h[I+1]-h[I],u=f/Math.abs(W);return S?1-u:u}return{isLastSnapPoint:j,activeSnapPoint:v,shouldFade:k,getPercentageDragged:Z,setActiveSnapPoint:m,activeSnapPointIndex:C,onRelease:l,onDrag:F,snapPointsOffset:h}}const tn=()=>()=>{};function en(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:o,noBodyStyles:i}=pt(),a=r.useRef(null),g=at.useMemo(()=>document.body.style.backgroundColor,[]);function w(){return(window.innerWidth-Pt)/window.innerWidth}r.useEffect(()=>{if(n&&e){a.current&&clearTimeout(a.current);const x=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!x)return;Ke(o&&!i?$t(document.body,{background:"black"}):tn,$t(x,{transformOrigin:A(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`}));const E=$t(x,{borderRadius:`${ee}px`,overflow:"hidden",...A(t)?{transform:`scale(${w()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${w()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{E(),a.current=window.setTimeout(()=>{g?document.body.style.background=g:document.body.style.removeProperty("background")},O.DURATION*1e3)}}},[n,e,g])}let mt=null;function nn({isOpen:t,modal:n,nested:e,hasBeenOpened:o,preventScrollRestoration:i,noBodyStyles:a}){const[g,w]=r.useState(()=>typeof window<"u"?window.location.href:""),x=r.useRef(0),E=r.useCallback(()=>{if(Wt()&&mt===null&&t&&!a){mt={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:d}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-x.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const M=d-window.innerHeight;M&&x.current>=d&&(document.body.style.top=`${-(x.current+M)}px`)}),300)}},[t]),v=r.useCallback(()=>{if(Wt()&&mt!==null&&!a){const m=-parseInt(document.body.style.top,10),d=-parseInt(document.body.style.left,10);Object.assign(document.body.style,mt),window.requestAnimationFrame(()=>{if(i&&g!==window.location.href){w(window.location.href);return}window.scrollTo(d,m)}),mt=null}},[g]);return r.useEffect(()=>{function m(){x.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),r.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||v()}},[n,v]),r.useEffect(()=>{e||!o||(t?(!window.matchMedia("(display-mode: standalone)").matches&&E(),n||window.setTimeout(()=>{v()},500)):v())},[t,o,g,n,e,E,v]),{restorePositionSetting:v}}function rn({open:t,onOpenChange:n,children:e,onDrag:o,onRelease:i,snapPoints:a,shouldScaleBackground:g=!1,setBackgroundColorOnScale:w=!0,closeThreshold:x=Ge,scrollLockTimeout:E=Je,dismissible:v=!0,handleOnly:m=!1,fadeFromIndex:d=a&&a.length-1,activeSnapPoint:M,setActiveSnapPoint:j,fixed:C,modal:k=!0,onClose:h,nested:N,noBodyStyles:c=!1,direction:l="bottom",defaultOpen:F=!1,disablePreventScroll:Z=!0,snapToSequentialPoint:f=!1,preventScrollRestoration:T=!1,repositionInputs:S=!0,onAnimationEnd:H,container:I,autoFocus:W=!1}){var u,z;const[L=!1,V]=re({defaultProp:F,prop:t,onChange:s=>{n==null||n(s),!s&&!N&&fe(),setTimeout(()=>{H==null||H(s)},O.DURATION*1e3),s&&!k&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),s||(document.body.style.pointerEvents="auto")}}),[_,X]=r.useState(!1),[K,it]=r.useState(!1),[ie,jt]=r.useState(!1),et=r.useRef(null),ht=r.useRef(null),St=r.useRef(null),Tt=r.useRef(null),st=r.useRef(null),lt=r.useRef(!1),Dt=r.useRef(null),Et=r.useRef(0),nt=r.useRef(!1),It=r.useRef(!F),_t=r.useRef(0),p=r.useRef(null),kt=r.useRef(((u=p.current)==null?void 0:u.getBoundingClientRect().height)||0),Ht=r.useRef(((z=p.current)==null?void 0:z.getBoundingClientRect().width)||0),Rt=r.useRef(0),se=r.useCallback(s=>{a&&s===ut.length-1&&(ht.current=new Date)},[]),{activeSnapPoint:le,activeSnapPointIndex:rt,setActiveSnapPoint:Lt,onRelease:ue,snapPointsOffset:ut,onDrag:ce,shouldFade:Bt,getPercentageDragged:de}=Ze({snapPoints:a,activeSnapPointProp:M,setActiveSnapPointProp:j,drawerRef:p,fadeFromIndex:d,overlayRef:et,onSnapPointChange:se,direction:l,container:I,snapToSequentialPoint:f});Ue({isDisabled:!L||K||!k||ie||!_||!S||!Z});const{restorePositionSetting:fe}=nn({isOpen:L,modal:k,nested:N??!1,hasBeenOpened:_,preventScrollRestoration:T,noBodyStyles:c});function wt(){return(window.innerWidth-Pt)/window.innerWidth}function me(s){var D,R;!v&&!a||p.current&&!p.current.contains(s.target)||(kt.current=((D=p.current)==null?void 0:D.getBoundingClientRect().height)||0,Ht.current=((R=p.current)==null?void 0:R.getBoundingClientRect().width)||0,it(!0),St.current=new Date,Gt()&&window.addEventListener("touchend",()=>lt.current=!1,{once:!0}),s.target.setPointerCapture(s.pointerId),Et.current=A(l)?s.pageY:s.pageX)}function Ft(s,D){var R;let b=s;const $=(R=window.getSelection())==null?void 0:R.toString(),U=p.current?bt(p.current,l):null,B=new Date;if(b.tagName==="SELECT"||b.hasAttribute("data-vaul-no-drag")||b.closest("[data-vaul-no-drag]"))return!1;if(l==="right"||l==="left")return!0;if(ht.current&&B.getTime()-ht.current.getTime()<500)return!1;if(U!==null&&(l==="bottom"?U>0:U<0))return!0;if($&&$.length>0)return!1;if(st.current&&B.getTime()-st.current.getTime()<E&&U===0||D)return st.current=B,!1;for(;b;){if(b.scrollHeight>b.clientHeight){if(b.scrollTop!==0)return st.current=new Date,!1;if(b.getAttribute("role")==="dialog")return!0}b=b.parentNode}return!0}function pe(s){if(p.current&&K){const D=l==="bottom"||l==="right"?1:-1,R=(Et.current-(A(l)?s.pageY:s.pageX))*D,b=R>0,$=a&&!v&&!b;if($&&rt===0)return;const U=Math.abs(R),B=document.querySelector("[data-vaul-drawer-wrapper]"),G=l==="bottom"||l==="top"?kt.current:Ht.current;let Y=U/G;const tt=de(U,b);if(tt!==null&&(Y=tt),$&&Y>=1||!lt.current&&!Ft(s.target,b))return;if(p.current.classList.add(At),lt.current=!0,P(p.current,{transition:"none"}),P(et.current,{transition:"none"}),a&&ce({draggedDistance:R}),b&&!a){const q=Xe(R),gt=Math.min(q*-1,0)*D;P(p.current,{transform:A(l)?`translate3d(0, ${gt}px, 0)`:`translate3d(${gt}px, 0, 0)`});return}const J=1-Y;if((Bt||d&&rt===d-1)&&(o==null||o(s,Y),P(et.current,{opacity:`${J}`,transition:"none"},!0)),B&&et.current&&g){const q=Math.min(wt()+Y*(1-wt()),1),gt=8-Y*8,zt=Math.max(0,14-Y*14);P(B,{borderRadius:`${gt}px`,transform:A(l)?`scale(${q}) translate3d(0, ${zt}px, 0)`:`scale(${q}) translate3d(${zt}px, 0, 0)`,transition:"none"},!0)}if(!a){const q=U*D;P(p.current,{transform:A(l)?`translate3d(0, ${q}px, 0)`:`translate3d(${q}px, 0, 0)`})}}}r.useEffect(()=>{window.requestAnimationFrame(()=>{It.current=!0})},[]),r.useEffect(()=>{var s;function D(){if(!p.current||!S)return;const R=document.activeElement;if(Nt(R)||nt.current){var b;const $=((b=window.visualViewport)==null?void 0:b.height)||0,U=window.innerHeight;let B=U-$;const G=p.current.getBoundingClientRect().height||0,Y=G>U*.8;Rt.current||(Rt.current=G);const tt=p.current.getBoundingClientRect().top;if(Math.abs(_t.current-B)>60&&(nt.current=!nt.current),a&&a.length>0&&ut&&rt){const J=ut[rt]||0;B+=J}if(_t.current=B,G>$||nt.current){const J=p.current.getBoundingClientRect().height;let q=J;J>$&&(q=$-(Y?tt:Pt)),C?p.current.style.height=`${J-Math.max(B,0)}px`:p.current.style.height=`${Math.max(q,$-tt)}px`}else Ie()||(p.current.style.height=`${Rt.current}px`);a&&a.length>0&&!nt.current?p.current.style.bottom="0px":p.current.style.bottom=`${Math.max(B,0)}px`}}return(s=window.visualViewport)==null||s.addEventListener("resize",D),()=>{var R;return(R=window.visualViewport)==null?void 0:R.removeEventListener("resize",D)}},[rt,a,ut]);function ct(s){he(),h==null||h(),s||V(!1),setTimeout(()=>{a&&Lt(a[0])},O.DURATION*1e3)}function Ut(){if(!p.current)return;const s=document.querySelector("[data-vaul-drawer-wrapper]"),D=bt(p.current,l);P(p.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`}),P(et.current,{transition:`opacity ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,opacity:"1"}),g&&D&&D>0&&L&&P(s,{borderRadius:`${ee}px`,overflow:"hidden",...A(l)?{transform:`scale(${wt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${wt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${O.DURATION}s`,transitionTimingFunction:`cubic-bezier(${O.EASE.join(",")})`},!0)}function he(){!K||!p.current||(p.current.classList.remove(At),lt.current=!1,it(!1),Tt.current=new Date)}function we(s){if(!K||!p.current)return;p.current.classList.remove(At),lt.current=!1,it(!1),Tt.current=new Date;const D=bt(p.current,l);if(!s||!Ft(s.target,!1)||!D||Number.isNaN(D)||St.current===null)return;const R=Tt.current.getTime()-St.current.getTime(),b=Et.current-(A(l)?s.pageY:s.pageX),$=Math.abs(b)/R;if($>.05&&(jt(!0),setTimeout(()=>{jt(!1)},200)),a){ue({draggedDistance:b*(l==="bottom"||l==="right"?1:-1),closeDrawer:ct,velocity:$,dismissible:v}),i==null||i(s,!0);return}if(l==="bottom"||l==="right"?b>0:b<0){Ut(),i==null||i(s,!0);return}if($>te){ct(),i==null||i(s,!1);return}var U;const B=Math.min((U=p.current.getBoundingClientRect().height)!=null?U:0,window.innerHeight);var G;const Y=Math.min((G=p.current.getBoundingClientRect().width)!=null?G:0,window.innerWidth),tt=l==="left"||l==="right";if(Math.abs(D)>=(tt?Y:B)*x){ct(),i==null||i(s,!1);return}i==null||i(s,!0),Ut()}r.useEffect(()=>(L&&(P(document.documentElement,{scrollBehavior:"auto"}),ht.current=new Date),()=>{qe(document.documentElement,"scrollBehavior")}),[L]);function ge(s){const D=s?(window.innerWidth-xt)/window.innerWidth:1,R=s?-16:0;Dt.current&&window.clearTimeout(Dt.current),P(p.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:A(l)?`scale(${D}) translate3d(0, ${R}px, 0)`:`scale(${D}) translate3d(${R}px, 0, 0)`}),!s&&p.current&&(Dt.current=setTimeout(()=>{const b=bt(p.current,l);P(p.current,{transition:"none",transform:A(l)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})},500))}function ve(s,D){if(D<0)return;const R=(window.innerWidth-xt)/window.innerWidth,b=R+D*(1-R),$=-16+D*xt;P(p.current,{transform:A(l)?`scale(${b}) translate3d(0, ${$}px, 0)`:`scale(${b}) translate3d(${$}px, 0, 0)`,transition:"none"})}function ye(s,D){const R=A(l)?window.innerHeight:window.innerWidth,b=D?(R-xt)/R:1,$=D?-16:0;D&&P(p.current,{transition:`transform ${O.DURATION}s cubic-bezier(${O.EASE.join(",")})`,transform:A(l)?`scale(${b}) translate3d(0, ${$}px, 0)`:`scale(${b}) translate3d(${$}px, 0, 0)`})}return r.useEffect(()=>{k||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[k]),r.createElement(Ee,{defaultOpen:F,onOpenChange:s=>{!v&&!s||(s?X(!0):ct(!0),V(s))},open:L},r.createElement(Kt.Provider,{value:{activeSnapPoint:le,snapPoints:a,setActiveSnapPoint:Lt,drawerRef:p,overlayRef:et,onOpenChange:n,onPress:me,onRelease:we,onDrag:pe,dismissible:v,shouldAnimate:It,handleOnly:m,isOpen:L,isDragging:K,shouldFade:Bt,closeDrawer:ct,onNestedDrag:ve,onNestedOpenChange:ge,onNestedRelease:ye,keyboardIsOpen:nt,modal:k,snapPointsOffset:ut,activeSnapPointIndex:rt,direction:l,shouldScaleBackground:g,setBackgroundColorOnScale:w,noBodyStyles:c,container:I,autoFocus:W}},e))}const ae=r.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:o,onRelease:i,shouldFade:a,isOpen:g,modal:w,shouldAnimate:x}=pt(),E=Qt(n,e),v=o&&o.length>0;if(!w)return null;const m=r.useCallback(d=>i(d),[i]);return r.createElement(Oe,{onMouseUp:m,ref:E,"data-vaul-overlay":"","data-vaul-snap-points":g&&v?"true":"false","data-vaul-snap-points-overlay":g&&a?"true":"false","data-vaul-animate":x!=null&&x.current?"true":"false",...t})});ae.displayName="Drawer.Overlay";const oe=r.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...o},i){const{drawerRef:a,onPress:g,onRelease:w,onDrag:x,keyboardIsOpen:E,snapPointsOffset:v,activeSnapPointIndex:m,modal:d,isOpen:M,direction:j,snapPoints:C,container:k,handleOnly:h,shouldAnimate:N,autoFocus:c}=pt(),[l,F]=r.useState(!1),Z=Qt(i,a),f=r.useRef(null),T=r.useRef(null),S=r.useRef(!1),H=C&&C.length>0;en();const I=(u,z,L=0)=>{if(S.current)return!0;const V=Math.abs(u.y),_=Math.abs(u.x),X=_>V,K=["bottom","right"].includes(z)?1:-1;if(z==="left"||z==="right"){if(!(u.x*K<0)&&_>=0&&_<=L)return X}else if(!(u.y*K<0)&&V>=0&&V<=L)return!X;return S.current=!0,!0};r.useEffect(()=>{H&&window.requestAnimationFrame(()=>{F(!0)})},[]);function W(u){f.current=null,S.current=!1,w(u)}return r.createElement(Re,{"data-vaul-drawer-direction":j,"data-vaul-drawer":"","data-vaul-delayed-snap-points":l?"true":"false","data-vaul-snap-points":M&&H?"true":"false","data-vaul-custom-container":k?"true":"false","data-vaul-animate":N!=null&&N.current?"true":"false",...o,ref:Z,style:v&&v.length>0?{"--snap-point-height":`${v[m??0]}px`,...n}:n,onPointerDown:u=>{h||(o.onPointerDown==null||o.onPointerDown.call(o,u),f.current={x:u.pageX,y:u.pageY},g(u))},onOpenAutoFocus:u=>{e==null||e(u),c||u.preventDefault()},onPointerDownOutside:u=>{if(t==null||t(u),!d||u.defaultPrevented){u.preventDefault();return}E.current&&(E.current=!1)},onFocusOutside:u=>{if(!d){u.preventDefault();return}},onPointerMove:u=>{if(T.current=u,h||(o.onPointerMove==null||o.onPointerMove.call(o,u),!f.current))return;const z=u.pageY-f.current.y,L=u.pageX-f.current.x,V=u.pointerType==="touch"?10:2;I({x:L,y:z},j,V)?x(u):(Math.abs(L)>V||Math.abs(z)>V)&&(f.current=null)},onPointerUp:u=>{o.onPointerUp==null||o.onPointerUp.call(o,u),f.current=null,S.current=!1,w(u)},onPointerOut:u=>{o.onPointerOut==null||o.onPointerOut.call(o,u),W(T.current)},onContextMenu:u=>{o.onContextMenu==null||o.onContextMenu.call(o,u),T.current&&W(T.current)}})});oe.displayName="Drawer.Content";const an=250,on=120,sn=r.forwardRef(function({preventCycle:t=!1,children:n,...e},o){const{closeDrawer:i,isDragging:a,snapPoints:g,activeSnapPoint:w,setActiveSnapPoint:x,dismissible:E,handleOnly:v,isOpen:m,onPress:d,onDrag:M}=pt(),j=r.useRef(null),C=r.useRef(!1);function k(){if(C.current){c();return}window.setTimeout(()=>{h()},on)}function h(){if(a||t||C.current){c();return}if(c(),!g||g.length===0){E||i();return}if(w===g[g.length-1]&&E){i();return}const F=g.findIndex(f=>f===w);if(F===-1)return;const Z=g[F+1];x(Z)}function N(){j.current=window.setTimeout(()=>{C.current=!0},an)}function c(){j.current&&window.clearTimeout(j.current),C.current=!1}return r.createElement("div",{onClick:k,onPointerCancel:c,onPointerDown:l=>{v&&d(l),N()},onPointerMove:l=>{v&&M(l)},ref:o,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});sn.displayName="Drawer.Handle";function ln(t){const n=pt(),{container:e=n.container,...o}=t;return r.createElement(Ce,{container:e,...o})}const Q={Root:rn,Content:oe,Overlay:ae,Trigger:xe,Portal:ln,Close:De,Title:Se,Description:Te};function un({...t}){return y.jsx(Q.Root,{"data-slot":"drawer",...t})}function cn({...t}){return y.jsx(Q.Trigger,{"data-slot":"drawer-trigger",...t})}function dn({...t}){return y.jsx(Q.Portal,{"data-slot":"drawer-portal",...t})}function Xt({...t}){return y.jsx(Q.Close,{"data-slot":"drawer-close",...t})}function fn({className:t,...n}){return y.jsx(Q.Overlay,{"data-slot":"drawer-overlay",className:ot("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function mn({className:t,children:n,...e}){return y.jsxs(dn,{"data-slot":"drawer-portal",children:[y.jsx(fn,{}),y.jsxs(Q.Content,{"data-slot":"drawer-content",className:ot("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...e,children:[y.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),n]})]})}function pn({className:t,...n}){return y.jsx("div",{"data-slot":"drawer-header",className:ot("flex flex-col gap-1.5 p-4",t),...n})}function hn({className:t,...n}){return y.jsx("div",{"data-slot":"drawer-footer",className:ot("mt-auto flex flex-col gap-2 p-4",t),...n})}function wn({className:t,...n}){return y.jsx(Q.Title,{"data-slot":"drawer-title",className:ot("text-foreground font-semibold",t),...n})}function gn({className:t,...n}){return y.jsx(Q.Description,{"data-slot":"drawer-description",className:ot("text-muted-foreground text-sm",t),...n})}const vn={name:"",email:"",phone:"",status:!1,about:"",email_verified_at:"",created_at:"",updated_at:"",media_id:null},Hn=({user:t=null,media:n=[],triggerLabel:e,onClose:o})=>{const[i,a]=at.useState(!1),g=!!t,{data:w,setData:x,put:E,post:v,processing:m,reset:d,errors:M}=be(vn),j=[{id:"name",label:"Name",type:"text",component:dt,placeholder:"Enter your name"},{id:"email",label:"Email",type:"email",component:dt,placeholder:"Enter your email"},{id:"phone",label:"Phone",type:"text",component:dt,placeholder:"Enter your phone number"},{id:"about",label:"About",component:Me,placeholder:"Tell us about yourself"},{id:"password",label:"Password",type:"password",component:dt,placeholder:"Enter your password"},{id:"password_confirmation",label:"Confirm Password",type:"password",component:dt,placeholder:"Re-enter your password"}];at.useEffect(()=>{t?(a(!0),x($e(t))):Object.keys(M).length||(a(!1),d())},[t,x,d,M]);const C=c=>{const{name:l,value:F}=c.target;x(l,F)},k=c=>{(c==null?void 0:c.id)!==void 0&&x("media_id",(c==null?void 0:c.id)??null)},h=c=>{c.preventDefault();const l=g?E:v,F=g?route("users.update",t==null?void 0:t.id):route("users.store");l(F,{onSuccess:()=>{d(),a(!1),o()}})},N=()=>{a(!1),d(),o()};return y.jsxs(un,{open:i,onOpenChange:c=>{a(c),c||o()},direction:"right",children:[y.jsx(cn,{asChild:!0,children:y.jsx(vt,{className:"cursor-pointer",variant:"outline",onClick:()=>{o(),d()},children:e})}),y.jsx(mn,{children:y.jsxs("form",{onSubmit:h,className:"flex flex-col h-full",children:[y.jsx(pn,{className:"border-b",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs(wn,{children:[g?"Edit":"New"," User"]}),y.jsx(gn,{children:g?"Update user details.":"Fill in user details."})]}),y.jsx(Xt,{asChild:!0,children:y.jsx(vt,{size:"sm",className:"cursor-pointer",variant:"ghost",onClick:N,children:"✕"})})]})}),y.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[j.map(c=>{const l=c.component;return y.jsxs("div",{children:[y.jsx(Ne,{htmlFor:c.id,className:"mb-4",children:c.label}),y.jsx(l,{id:c.id,name:c.id,value:w[c.id],onChange:C,placeholder:c.placeholder,type:c.type||"text"}),y.jsx(Pe,{message:M[c.id]})]},c.id)}),y.jsx("div",{className:"mt-4",children:y.jsx(Ae,{onSelect:k,initial:Array.isArray(n)&&n.length>0&&w.media_id?n.find(c=>c.id===Number(w.media_id)):void 0})})]}),y.jsxs(hn,{className:"border-t pt-4",children:[y.jsx(vt,{type:"submit",disabled:m,className:"cursor-pointer",variant:"outline",children:m?"Saving...":g?"Update":"Save"}),y.jsx(Xt,{asChild:!0,children:y.jsx(vt,{type:"button",variant:"outline",onClick:N,className:"cursor-pointer",children:"Cancel"})})]})]})})]})};export{Hn as default};
