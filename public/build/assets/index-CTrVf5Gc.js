import{r as n,K as T,S as b,V as f,j as e,L as A,$ as N}from"./app-BY0jHPtf.js";import{A as I}from"./app-layout-CaHLV0PB.js";import{I as L}from"./input-DAIBSd-1.js";import{d as k}from"./index-DCmbbJq4.js";import{T as P,a as z,b as c,c as l,d as E,e as r,f as R,I as B}from"./inertia-pagination-C3QTnJCC.js";import{S as i,P as F}from"./permalink-DtRB6Q08.js";import{g as H}from"./helpers-gu3OCxCZ.js";import{S as V,a as _,D as $}from"./delete-dialog-US8NyjE8.js";import"./app-SgnT4X6k.js";import"./button-XnbFZzV_.js";import"./index-CbfHClVD.js";import"./index-D7G3XBp4.js";import"./x-WmN33oO9.js";import"./createLucideIcon-aPz1YqgO.js";import"./index-DmNtHrQh.js";import"./chevron-right-CE_Qln-M.js";import"./app-logo-icon-BHODKQwY.js";import"./dialog-ho_Ki7GS.js";const q=[{title:"Categories",href:"/category"}];function ne(){const[S,m]=n.useState(!1),{flash:a,categories:o}=T().props,[w,d]=n.useState(!1),[h,x]=n.useState(null),y=()=>{h!==null&&(b.delete(route("blog.categories.destroy",h),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{x(null)}}),d(!1))},v=s=>{x(s),d(!0)};console.log(o);const C=n.useRef(k(s=>{const t={};s.trim()!==""&&(t.search=s),m(!0),b.get("/blog/categories",t,{preserveState:!0,replace:!0,onFinish:()=>m(!1)})},500)).current,D=s=>{const t=s.target.value;C(t)};return n.useEffect(()=>{a!=null&&a.success&&f.success(a.success),a!=null&&a.error&&f.error(a.error)},[a]),e.jsxs(e.Fragment,{children:[e.jsxs(I,{breadcrumbs:q,children:[e.jsx(A,{title:"Categories"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Categories"}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"relative md:w-1/4",children:[e.jsx(L,{id:"search",className:"peer ps-9",placeholder:"Search...",type:"text",onChange:D}),e.jsx("div",{className:"text-muted-foreground/80 pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 peer-disabled:opacity-50",children:e.jsx(V,{size:16,"aria-hidden":"true"})})]}),e.jsx(N,{href:route("blog.categories.create"),className:"px-3 py-1.5 bg-blue-600 text-white rounded-md",children:"Add New Category"})]}),e.jsxs("div",{children:[e.jsxs(P,{className:"border",children:[e.jsx(z,{children:e.jsxs(c,{children:[e.jsx(l,{children:"#"}),e.jsx(l,{children:"Image"}),e.jsx(l,{children:"Name with post count"}),e.jsx(l,{children:"Author"}),e.jsx(l,{children:"Created At"}),e.jsx(l,{children:"Status"}),e.jsx(l,{children:"Actions"})]})}),e.jsx(E,{children:S?Array.from({length:5}).map((s,t)=>e.jsxs(c,{children:[e.jsx(r,{children:e.jsx(i,{className:"h-4 w-4"})}),e.jsx(r,{children:e.jsx(i,{className:"h-10 w-10 rounded"})}),e.jsx(r,{children:e.jsx(i,{className:"h-4 w-24"})}),e.jsx(r,{children:e.jsx(i,{className:"h-4 w-20"})}),e.jsx(r,{children:e.jsx(i,{className:"h-4 w-24"})}),e.jsx(r,{children:e.jsx(i,{className:"h-4 w-20"})}),e.jsx(r,{children:e.jsx(i,{className:"h-8 w-16"})})]},t)):o.data.length>0?o.data.map((s,t)=>{var j,u,p,g;return e.jsxs(c,{children:[e.jsx(r,{children:t+1}),e.jsx(r,{children:e.jsx("img",{src:H((j=s.media)==null?void 0:j.path,400,300,((u=s.media)==null?void 0:u.name)||"No Image"),alt:(p=s.media)==null?void 0:p.name,className:"h-10 w-10 rounded object-cover"})}),e.jsxs(r,{children:[e.jsx(F,{slug:s.slug,name:s.name}),"(",s.blogs.length,")"]}),e.jsx(r,{children:(g=s.user)==null?void 0:g.name}),e.jsx(r,{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(r,{children:s.status}),e.jsxs(r,{className:"space-x-1",children:[e.jsx(N,{href:route("blog.posts.edit",s.id),className:"rounded bg-blue-500 cursor-pointer px-3 py-1 text-white hover:bg-blue-600 inline-flex items-center",children:e.jsx(_,{size:16})}),e.jsx("button",{className:"bg-red-500 hover:bg-red-400 cursor-pointer rounded px-3 py-1 text-white",onClick:()=>v(s.id),children:e.jsx(R,{size:16})})]})]},s.id)}):e.jsx(c,{children:e.jsx(r,{colSpan:8,className:"text-center py-4",children:"No category found."})})})]}),e.jsx("div",{className:"mb-2",children:e.jsx(B,{meta:o.meta})})]})]})]}),e.jsx($,{open:w,onClose:()=>d(!1),onConfirm:y,title:"Confirm Deletion",description:"Are you sure you want to delete this blog post?"})]})}export{ne as default};
